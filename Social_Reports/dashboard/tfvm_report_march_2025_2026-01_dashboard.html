<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Media Analytics Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4267B2;
            --primary-light: #5890FF;
            --secondary: #E1306C;
            --success: #4CAF50;
            --warning: #FF9800;
            --danger: #F44336;
            --info: #2196F3;
            --dark: #1A1A2E;
            --light: #F8F9FA;
            --gray: #6C757D;
            --gray-light: #E9ECEF;
            --border-radius: 12px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --box-shadow-hover: 0 15px 40px rgba(0, 0, 0, 0.12);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-attachment: fixed;
            color: var(--dark);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Glass Effect */
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: var(--box-shadow);
        }
        
        /* Dashboard Layout */
        .dashboard-wrapper {
            max-width: 1600px;
            margin: 0 auto;
            padding: 30px;
        }
        
        /* Header */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding: 30px;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(66, 103, 178, 0.9), rgba(225, 48, 108, 0.9));
            color: white;
        }
        
        .dashboard-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #FF0000, #4267B2, #E1306C);
        }
        
        .header-left h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .header-left p {
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .header-stats {
            display: flex;
            gap: 20px;
        }
        
        .header-stat {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            backdrop-filter: blur(5px);
        }
        
        .header-stat-value {
            font-size: 2rem;
            font-weight: 700;
        }
        
        .header-stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* Main Layout */
        .dashboard-main {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 30px;
        }
        
        /* Sidebar Navigation */
        .sidebar {
            border-radius: var(--border-radius);
            padding: 25px;
            height: fit-content;
            position: sticky;
            top: 30px;
        }
        
        .nav-title {
            color: var(--gray);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .nav-menu {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 16px 20px;
            border-radius: 10px;
            text-decoration: none;
            color: var(--gray);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .nav-item:hover {
            background: rgba(66, 103, 178, 0.08);
            color: var(--primary);
            transform: translateX(5px);
        }
        
        .nav-item.active {
            background: linear-gradient(135deg, rgba(66, 103, 178, 0.1), rgba(76, 175, 80, 0.1));
            color: var(--primary);
            font-weight: 600;
        }
        
        .nav-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, var(--primary), var(--success));
            border-radius: 0 4px 4px 0;
        }
        
        .nav-icon {
            font-size: 1.2rem;
            width: 24px;
        }
        
        /* Content Areas */
        .content-area {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content-area.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            border-radius: var(--border-radius);
            padding: 30px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-hover);
        }
        
        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.2);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 10px 0;
            color: var(--dark);
        }
        
        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .stat-trend {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.85rem;
            margin-top: 10px;
        }
        
        .trend-up { color: var(--success); }
        .trend-down { color: var(--danger); }
        
        /* Insights Section */
        .insights-container {
            margin-bottom: 40px;
        }
        
        .insight-card {
            display: flex;
            gap: 20px;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            transition: var(--transition);
        }
        
        .insight-card:hover {
            transform: translateX(5px);
        }
        
        .insight-icon {
            flex-shrink: 0;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.2);
            font-size: 1.5rem;
        }
        
        .insight-content {
            flex: 1;
        }
        
        .insight-text {
            font-size: 1rem;
            line-height: 1.5;
        }
        
        /* Charts */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .chart-card {
            border-radius: var(--border-radius);
            padding: 30px;
            transition: var(--transition);
        }
        
        .chart-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow-hover);
        }
        
        .chart-title {
            margin-bottom: 25px;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chart-container {
            width: 100%;
            height: 350px;
        }
        
        /* Platform Cards */
        .platform-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .platform-card {
            padding: 25px;
            border-radius: var(--border-radius);
            text-align: center;
            transition: var(--transition);
        }
        
        .platform-card:hover {
            transform: translateY(-5px);
        }
        
        .platform-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .instagram { color: #E1306C; }
        .facebook { color: #4267B2; }
        .twitter { color: #1DA1F2; }
        .tiktok { color: #000000; }
        .youtube { color: #FF0000; }
        
        /* Performance Table */
        .performance-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .performance-table th {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 18px;
            text-align: left;
            font-weight: 600;
        }
        
        .performance-table td {
            padding: 16px;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .performance-table tr:hover {
            background: rgba(66, 103, 178, 0.05);
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 25px;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 50px;
            border-radius: var(--border-radius);
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .dashboard-main {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            .dashboard-wrapper {
                padding: 15px;
            }
            
            .dashboard-header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .header-stats {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .stats-grid,
            .charts-grid,
            .platform-grid {
                grid-template-columns: 1fr;
            }
            
            .chart-container {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-wrapper">
        <!-- Header -->
        <div class="dashboard-header glass-effect">
            <div class="header-left">
                <h1>
                    <i class="fas fa-chart-line"></i>
                    Social Media Analytics Dashboard
                </h1>
                <p>
                    <i class="fas fa-calendar-alt"></i> 2026-02-03 to 2026-02-26 | 
                    <i class="fas fa-file-alt"></i> 53 posts analyzed
                </p>
            </div>
            <div class="header-stats">
                <div class="header-stat">
                    <div class="header-stat-value">53</div>
                    <div class="header-stat-label">Total Posts</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-value">5,072</div>
                    <div class="header-stat-label">Avg Engagement</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-value">8.9%</div>
                    <div class="header-stat-label">Engagement Rate</div>
                </div>
            </div>
        </div>
        
        <div class="dashboard-main">
            <!-- Sidebar Navigation -->
            <div class="sidebar glass-effect">
                <div class="nav-title">Navigation</div>
                <div class="nav-menu">
                    <div class="nav-item active" onclick="showPage('overview')">
                        <i class="fas fa-tachometer-alt nav-icon"></i>
                        <span>Overview</span>
                    </div>
                    <div class="nav-item" onclick="showPage('performance')">
                        <i class="fas fa-chart-bar nav-icon"></i>
                        <span>Performance</span>
                    </div>
                    <div class="nav-item" onclick="showPage('trends')">
                        <i class="fas fa-chart-line nav-icon"></i>
                        <span>Trends</span>
                    </div>
                    <div class="nav-item" onclick="showPage('platforms')">
                        <i class="fas fa-globe nav-icon"></i>
                        <span>Platforms</span>
                    </div>
                    <div class="nav-item" onclick="showPage('insights')">
                        <i class="fas fa-lightbulb nav-icon"></i>
                        <span>Insights</span>
                    </div>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="main-content">
                <!-- Overview Page -->
                <div id="overview" class="content-area active">
                    <!-- Insights -->
                    <div class="insights-container">
                        <h2 style="margin-bottom: 20px; color: var(--dark);">
                            <i class="fas fa-lightbulb"></i> Automated Insights
                        </h2>
                        <div id="insights-list">
                            
                <div class="insight-card glass-effect">
                    <div class="insight-icon">
                        <i class="fas fa-check-circle" style="color: #4CAF50;"></i>
                    </div>
                    <div class="insight-content">
                        <div class="insight-text">‚úÖ Excellent! Engagement rate is 8.9% (industry average is 1-3%)</div>
                    </div>
                </div>
                
                <div class="insight-card glass-effect">
                    <div class="insight-icon">
                        <i class="fas fa-info-circle" style="color: #2196F3;"></i>
                    </div>
                    <div class="insight-content">
                        <div class="insight-text">üìÖ Best posting day: Thursday (avg 7,427 engagement)</div>
                    </div>
                </div>
                
                <div class="insight-card glass-effect">
                    <div class="insight-icon">
                        <i class="fas fa-info-circle" style="color: #2196F3;"></i>
                    </div>
                    <div class="insight-content">
                        <div class="insight-text">üîó Only 9% of posts have links. Add more trackable links!</div>
                    </div>
                </div>
                
                <div class="insight-card glass-effect">
                    <div class="insight-icon">
                        <i class="fas fa-info-circle" style="color: #2196F3;"></i>
                    </div>
                    <div class="insight-content">
                        <div class="insight-text">üèÜ Top post: 'Cahaya Ramadan' with 33,779 engagement</div>
                    </div>
                </div>
                
                        </div>
                    </div>
                    
                    <!-- Key Metrics -->
                    <div class="stats-grid">
                        <div class="stat-card glass-effect">
                            <div class="stat-icon" style="background: rgba(66, 103, 178, 0.1); color: var(--primary);">
                                <i class="fas fa-hashtag"></i>
                            </div>
                            <div class="stat-value">53</div>
                            <div class="stat-label">Total Posts</div>
                            <div class="stat-trend trend-up">
                                <i class="fas fa-arrow-up"></i>
                                <span>Total analyzed</span>
                            </div>
                        </div>
                        
                        <div class="stat-card glass-effect">
                            <div class="stat-icon" style="background: rgba(225, 48, 108, 0.1); color: var(--secondary);">
                                <i class="fas fa-fire"></i>
                            </div>
                            <div class="stat-value">5,072</div>
                            <div class="stat-label">Avg Engagement</div>
                            <div class="stat-trend">
                                <span>Per post average</span>
                            </div>
                        </div>
                        
                        <div class="stat-card glass-effect">
                            <div class="stat-icon" style="background: rgba(76, 175, 80, 0.1); color: var(--success);">
                                <i class="fas fa-percentage"></i>
                            </div>
                            <div class="stat-value">8.9%</div>
                            <div class="stat-label">Engagement Rate</div>
                            <div class="stat-trend trend-up">
                                <i class="fas fa-chart-line"></i>
                                <span>Above avg: 3%</span>
                            </div>
                        </div>
                        
                        <div class="stat-card glass-effect">
                            <div class="stat-icon" style="background: rgba(255, 152, 0, 0.1); color: var(--warning);">
                                <i class="fas fa-link"></i>
                            </div>
                            <div class="stat-value">9%</div>
                            <div class="stat-label">Posts with Links</div>
                            <div class="stat-trend">
                                <span>Trackable content</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Content Distribution Charts -->
                    <div class="charts-grid">
                        <div class="chart-card glass-effect">
                            <div class="chart-title">
                                <i class="fas fa-chart-pie"></i> Content Type Distribution
                            </div>
                            <div class="chart-container" id="content-type-chart"></div>
                        </div>
                        
                        <div class="chart-card glass-effect">
                            <div class="chart-title">
                                <i class="fas fa-chart-bar"></i> Platform Performance
                            </div>
                            <div class="chart-container" id="platform-performance-chart"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Performance Page -->
                <div id="performance" class="content-area">
                    <h2 style="margin-bottom: 30px; color: var(--dark);">
                        <i class="fas fa-chart-bar"></i> Performance Analysis
                    </h2>
                    
                    <!-- Top Posts Table -->
                    <div class="chart-card glass-effect" style="margin-bottom: 40px;">
                        <div class="chart-title">
                            <i class="fas fa-trophy"></i> Top 10 Performing Posts
                        </div>
                        <div style="overflow-x: auto;">
                            <table class="performance-table">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Post Title</th>
                                        <th>Type</th>
                                        <th>Engagement</th>
                                        <th>Reach</th>
                                        <th>Date</th>
                                    </tr>
                                </thead>
                                <tbody id="top-posts-table">
                                    <!-- Will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Engagement Comparison -->
                    <div class="charts-grid">
                        <div class="chart-card glass-effect">
                            <div class="chart-title">
                                <i class="fas fa-chart-line"></i> Video vs Image Performance
                            </div>
                            <div class="chart-container" id="content-comparison-chart"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Trends Page -->
                <div id="trends" class="content-area">
                    <h2 style="margin-bottom: 30px; color: var(--dark);">
                        <i class="fas fa-chart-line"></i> Engagement Trends
                    </h2>
                    
                    <div class="charts-grid">
                        <div class="chart-card glass-effect">
                            <div class="chart-title">
                                <i class="fas fa-calendar-alt"></i> Daily Engagement Trend
                            </div>
                            <div class="chart-container" id="daily-trend-chart"></div>
                        </div>
                        
                        <div class="chart-card glass-effect">
                            <div class="chart-title">
                                <i class="fas fa-chart-bar"></i> Best Days to Post
                            </div>
                            <div class="chart-container" id="day-of-week-chart"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Platforms Page -->
                <div id="platforms" class="content-area">
                    <h2 style="margin-bottom: 30px; color: var(--dark);">
                        <i class="fas fa-globe"></i> Platform Analysis
                    </h2>
                    
                    <div class="platform-grid">
                        <!-- Platforms will be populated by JavaScript -->
                    </div>
                    
                    <div class="chart-card glass-effect">
                        <div class="chart-title">
                            <i class="fas fa-chart-pie"></i> Platform Distribution
                        </div>
                        <div class="chart-container" id="platform-distribution-chart"></div>
                    </div>
                </div>
                
                <!-- Insights Page -->
                <div id="insights" class="content-area">
                    <h2 style="margin-bottom: 30px; color: var(--dark);">
                        <i class="fas fa-lightbulb"></i> Detailed Insights & Recommendations
                    </h2>
                    
                    <!-- All Insights -->
                    <div class="insights-container">
                        <div id="all-insights-list">
                            
                <div class="insight-card glass-effect">
                    <div class="insight-icon">
                        <i class="fas fa-check-circle" style="color: #4CAF50;"></i>
                    </div>
                    <div class="insight-content">
                        <div class="insight-text">‚úÖ Excellent! Engagement rate is 8.9% (industry average is 1-3%)</div>
                    </div>
                </div>
                
                <div class="insight-card glass-effect">
                    <div class="insight-icon">
                        <i class="fas fa-info-circle" style="color: #2196F3;"></i>
                    </div>
                    <div class="insight-content">
                        <div class="insight-text">üìÖ Best posting day: Thursday (avg 7,427 engagement)</div>
                    </div>
                </div>
                
                <div class="insight-card glass-effect">
                    <div class="insight-icon">
                        <i class="fas fa-info-circle" style="color: #2196F3;"></i>
                    </div>
                    <div class="insight-content">
                        <div class="insight-text">üîó Only 9% of posts have links. Add more trackable links!</div>
                    </div>
                </div>
                
                <div class="insight-card glass-effect">
                    <div class="insight-icon">
                        <i class="fas fa-info-circle" style="color: #2196F3;"></i>
                    </div>
                    <div class="insight-content">
                        <div class="insight-text">üèÜ Top post: 'Cahaya Ramadan' with 33,779 engagement</div>
                    </div>
                </div>
                
                        </div>
                    </div>
                    
                    <!-- Recommendations -->
                    <div class="chart-card glass-effect">
                        <div class="chart-title">
                            <i class="fas fa-bullseye"></i> Actionable Recommendations
                        </div>
                        <div style="padding: 20px;">
                            <div id="recommendations-list">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="footer glass-effect">
            <p>Social Media Analytics Dashboard v2.0 | Generated: 2026-01-12 18:25:20</p>
            <p style="margin-top: 10px; opacity: 0.7;">
                <i class="fas fa-sync-alt"></i> Data updated in real-time | 
                <i class="fas fa-shield-alt"></i> Secure analytics
            </p>
        </div>
    </div>
    
    <script>
        // Analytics data
        const analyticsData = {"summary_stats": {"total_posts": 53, "video_posts": 25, "image_posts": 19, "video_percentage": 47.16981132075472, "avg_reach": 50015.21052631579, "avg_views": 37807.8, "avg_engagement": 5072.0526315789475, "avg_likes": 324.84090909090907, "engagement_rate": 8.87899049857574, "total_links": 5, "links_percentage": 9.433962264150944}, "performance_analysis": {"top_posts": [{"title": "Cahaya Ramadan", "type": "Post", "engagement": 33779.0, "reach": 151263.0, "views": 0.0, "date": "2026-02-24", "link": ""}, {"title": "Tawaran Istimewa 4 Hari", "type": "Post", "engagement": 10707.0, "reach": 138367.0, "views": 0.0, "date": "2026-02-26", "link": ""}, {"title": "Weekend Shopping Spree", "type": "Post", "engagement": 4306.0, "reach": 49275.0, "views": 0.0, "date": "2026-02-03", "link": ""}, {"title": "Loyalty Program \u2013 Gorme Omura Knife Series", "type": "Post", "engagement": 4215.0, "reach": 41788.0, "views": 0.0, "date": "2026-02-25", "link": ""}, {"title": "Selamat Hari Valentine", "type": "Post", "engagement": 4147.0, "reach": 93349.0, "views": 0.0, "date": "2026-02-05", "link": ""}, {"title": "Nina Tomyam Seafood Recipe", "type": "Post", "engagement": 4132.0, "reach": 47133.0, "views": 0.0, "date": "2026-02-07", "link": ""}, {"title": "Weekend Shopping Spree", "type": "Post", "engagement": 3775.0, "reach": 41607.0, "views": 0.0, "date": "2026-02-03", "link": ""}, {"title": "Weekend Shopping Spree", "type": "Post", "engagement": 3558.0, "reach": 41113.0, "views": 0.0, "date": "2026-02-03", "link": ""}, {"title": "Daily Essential Grab", "type": "Post", "engagement": 3425.0, "reach": 42339.0, "views": 0.0, "date": "2026-02-22", "link": ""}, {"title": "Daily Essentials Grab", "type": "Post", "engagement": 3418.0, "reach": 44105.0, "views": 0.0, "date": "2026-02-17", "link": ""}], "worst_posts": [{"title": "Loyalty Program (Gorme Omura Knife Series)", "type": "Post", "engagement": 1002.0, "date": "2026-02-11"}, {"title": "Weekend Shopping Spree", "type": "Post", "engagement": 1008.0, "date": "2026-02-03"}, {"title": "Loyalty Program (Gorme Omura Knife Series)", "type": "Post", "engagement": 1023.0, "date": "2026-02-25"}, {"title": "Daily Essential Grab", "type": "Post", "engagement": 1025.0, "date": "2026-02-17"}, {"title": "Loyalty Program (Gorme Omura Knife Series)", "type": "Post", "engagement": 3305.0, "date": "2026-02-11"}], "best_performing_type": "Post", "avg_engagement_by_type": {"video": 0.0, "post": 5072.0526315789475}}, "engagement_trends": {"daily": {"dates": ["2026-02-03", "2026-02-05", "2026-02-07", "2026-02-11", "2026-02-17", "2026-02-22", "2026-02-24", "2026-02-25", "2026-02-26"], "engagements": [12647.0, 4147.0, 4132.0, 7715.0, 4443.0, 6775.0, 33779.0, 12024.0, 10707.0], "engagement_7d_avg": [12647.0, 8397.0, 6975.333333333333, 7160.25, 6616.8, 6643.166666666667, 10519.714285714286, 10430.714285714286, 11367.857142857143]}, "day_of_week": {"Monday": null, "Tuesday": {"avg_engagement": 7267.0, "total_engagement": 50869.0}, "Wednesday": {"avg_engagement": 2819.8571428571427, "total_engagement": 19739.0}, "Thursday": {"avg_engagement": 7427.0, "total_engagement": 14854.0}, "Friday": null, "Saturday": {"avg_engagement": 4132.0, "total_engagement": 4132.0}, "Sunday": {"avg_engagement": 3387.5, "total_engagement": 6775.0}}, "best_day": "Thursday"}, "post_details": [{"post_id": 1, "slide": 8, "post_number": 1, "type": "post", "title": "Weekend Shopping Spree", "date": "2026-02-03", "reach": 41607.0, "views": 0.0, "engagement": 3775.0, "likes": 320.0, "shares": 7.0, "comments": 0.0, "saved": 36.0, "link": "", "has_link": false, "engagement_rate": 9.072992525296224, "performance": "high"}, {"post_id": 2, "slide": 8, "post_number": 2, "type": "video", "title": "KOL TikTok \u2013 Nina Tomyam Seafood Recipe", "date": "2026-02-07", "reach": 0.0, "views": 58652.0, "engagement": 0.0, "likes": 171.0, "shares": 4.0, "comments": 5.0, "saved": 3.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 3, "slide": 8, "post_number": 3, "type": "post", "title": "Loyalty Program (Gorme Omura Knife Series)", "date": "2026-02-11", "reach": 40415.0, "views": 0.0, "engagement": 3305.0, "likes": 551.0, "shares": 8.0, "comments": 6.0, "saved": 2.0, "link": "", "has_link": false, "engagement_rate": 8.177656810590127, "performance": "high"}, {"post_id": 4, "slide": 8, "post_number": 4, "type": "post", "title": "Daily Essentials Grab", "date": "2026-02-17", "reach": 44105.0, "views": 0.0, "engagement": 3418.0, "likes": 241.0, "shares": 7.0, "comments": 0.0, "saved": 11.0, "link": "", "has_link": false, "engagement_rate": 7.749688243963269, "performance": "high"}, {"post_id": 5, "slide": 9, "post_number": 5, "type": "video", "title": "KOL TikTok \u2013 Nina Cucur Udang Rangup", "date": "2026-02-24", "reach": 0.0, "views": 55705.0, "engagement": 0.0, "likes": 142.0, "shares": 18.0, "comments": 3.0, "saved": 16.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 6, "slide": 9, "post_number": 6, "type": "post", "title": "Loyalty Program (Gorme Omura Knife Series)", "date": "2026-02-25", "reach": 42212.0, "views": 0.0, "engagement": 3391.0, "likes": 337.0, "shares": 13.0, "comments": 2.0, "saved": 1.0, "link": "", "has_link": false, "engagement_rate": 8.03326068416564, "performance": "high"}, {"post_id": 7, "slide": 9, "post_number": 7, "type": "video", "title": "Promo Video: Cahaya Ramadan", "date": "2026-02-26", "reach": 0.0, "views": 51012.0, "engagement": 0.0, "likes": 74.0, "shares": 2.0, "comments": 1.0, "saved": 1.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 8, "slide": 12, "post_number": 8, "type": "post", "title": "Weekend Shopping Spree", "date": "2026-02-03", "reach": 11692.0, "views": 0.0, "engagement": 1008.0, "likes": 1000.0, "shares": 3.0, "comments": 0.0, "saved": 5.0, "link": "", "has_link": false, "engagement_rate": 8.621279507355457, "performance": "high"}, {"post_id": 9, "slide": 12, "post_number": 9, "type": "post", "title": "Loyalty Program (Gorme Omura Knife Series)", "date": "2026-02-11", "reach": 12157.0, "views": 0.0, "engagement": 1002.0, "likes": 952.0, "shares": 0.0, "comments": 0.0, "saved": 5.0, "link": "", "has_link": false, "engagement_rate": 8.242165007814428, "performance": "high"}, {"post_id": 10, "slide": 12, "post_number": 10, "type": "post", "title": "Daily Essential Grab", "date": "2026-02-17", "reach": 12450.0, "views": 0.0, "engagement": 1025.0, "likes": 1021.0, "shares": 0.0, "comments": 1.0, "saved": 3.0, "link": "", "has_link": false, "engagement_rate": 8.23293172690763, "performance": "high"}, {"post_id": 11, "slide": 12, "post_number": 11, "type": "post", "title": "Loyalty Program (Gorme Omura Knife Series)", "date": "2026-02-25", "reach": 12913.0, "views": 0.0, "engagement": 1023.0, "likes": 1017.0, "shares": 0.0, "comments": 0.0, "saved": 6.0, "link": "", "has_link": false, "engagement_rate": 7.92224889646093, "performance": "high"}, {"post_id": 12, "slide": 12, "post_number": 12, "type": "video", "title": "Promo Cahaya Ramadan", "date": "2026-02-26", "reach": 0.0, "views": 35810.0, "engagement": 0.0, "likes": 18.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 13, "slide": 17, "post_number": 13, "type": "video", "title": "KOL TikTok \u2013 Quesha Back To School Promo", "date": "2026-02-03", "reach": 0.0, "views": 17343.0, "engagement": 0.0, "likes": 180.0, "shares": 4.0, "comments": 2.0, "saved": 24.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 14, "slide": 17, "post_number": 14, "type": "video", "title": "KOL TikTok \u2013 Nina Tomyam Seafood Recipe", "date": "2026-02-07", "reach": 0.0, "views": 19125.0, "engagement": 0.0, "likes": 461.0, "shares": 10.0, "comments": 11.0, "saved": 50.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 15, "slide": 17, "post_number": 15, "type": "video", "title": "KOL TikTok \u2013 Saida Back To School / Promosi Ahli", "date": "2026-02-10", "reach": 0.0, "views": 22053.0, "engagement": 0.0, "likes": 42.0, "shares": 1.0, "comments": 0.0, "saved": 7.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 16, "slide": 17, "post_number": 16, "type": "video", "title": "KOL TikTok \u2013 Anne Weekend Groceries Shopping", "date": "2026-02-10", "reach": 0.0, "views": 28764.0, "engagement": 0.0, "likes": 115.0, "shares": 8.0, "comments": 4.0, "saved": 12.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 17, "slide": 17, "post_number": 17, "type": "video", "title": "TikTok ASMR \u2013 Restock Pantry", "date": "2026-02-14", "reach": 0.0, "views": 23571.0, "engagement": 0.0, "likes": 60.0, "shares": 1.0, "comments": 2.0, "saved": 9.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 18, "slide": 18, "post_number": 18, "type": "video", "title": "KOL TikTok \u2013 Wana Grocery Shopping with 2 Kids", "date": "2026-02-17", "reach": 0.0, "views": 23214.0, "engagement": 0.0, "likes": 69.0, "shares": 16.0, "comments": 1.0, "saved": 14.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 19, "slide": 18, "post_number": 19, "type": "video", "title": "TikTok Video \u2013 Dua Lipa Trend", "date": "2026-02-24", "reach": 0.0, "views": 45424.0, "engagement": 0.0, "likes": 89.0, "shares": 1.0, "comments": 0.0, "saved": 15.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 20, "slide": 18, "post_number": 20, "type": "video", "title": "KOL TikTok \u2013 Nina Cucur Udang Rangup", "date": "2026-02-24", "reach": 0.0, "views": 12631.0, "engagement": 0.0, "likes": 382.0, "shares": 2.0, "comments": 7.0, "saved": 50.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 21, "slide": 18, "post_number": 21, "type": "video", "title": "TikTok Video \u2013 TFVM ada Produk Sendiri", "date": "2026-02-26", "reach": 0.0, "views": 22018.0, "engagement": 0.0, "likes": 38.0, "shares": 10.0, "comments": 2.0, "saved": 2.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 22, "slide": 25, "post_number": 22, "type": "post", "title": "Weekend Shopping Spree", "date": "2026-02-03", "reach": 49275.0, "views": 0.0, "engagement": 4306.0, "likes": 237.0, "shares": 1.0, "comments": 0.0, "saved": 21.0, "link": "", "has_link": false, "engagement_rate": 8.738711314053779, "performance": "high"}, {"post_id": 23, "slide": 25, "post_number": 23, "type": "post", "title": "Weekend Shopping Spree", "date": "2026-02-03", "reach": 41113.0, "views": 0.0, "engagement": 3558.0, "likes": 206.0, "shares": 9.0, "comments": 1.0, "saved": 20.0, "link": "", "has_link": false, "engagement_rate": 8.654196969328435, "performance": "high"}, {"post_id": 24, "slide": 25, "post_number": 24, "type": "post", "title": "Nina Tomyam Seafood Recipe", "date": "2026-02-07", "reach": 47133.0, "views": 0.0, "engagement": 4132.0, "likes": 496.0, "shares": 11.0, "comments": 1.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 8.76668151825685, "performance": "high"}, {"post_id": 25, "slide": 25, "post_number": 25, "type": "post", "title": "Loyalty Program \u2013 Gorme Omura Knife Series", "date": "2026-02-11", "reach": 44547.0, "views": 0.0, "engagement": 3408.0, "likes": 470.0, "shares": 6.0, "comments": 4.0, "saved": 4.0, "link": "", "has_link": false, "engagement_rate": 7.650346824702001, "performance": "high"}, {"post_id": 26, "slide": 25, "post_number": 26, "type": "video", "title": "Loyalty Program \u2013 Gorme Omura Knife Series", "date": "2026-02-11", "reach": 0.0, "views": 131496.0, "engagement": 0.0, "likes": 481.0, "shares": 21.0, "comments": 4.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 27, "slide": 26, "post_number": 27, "type": "video", "title": "TikTok ASMR \u2013 Restock Pantry", "date": "2026-02-14", "reach": 0.0, "views": 51093.0, "engagement": 0.0, "likes": 81.0, "shares": 0.0, "comments": 1.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 28, "slide": 26, "post_number": 28, "type": "post", "title": "Daily Essential Grab", "date": "2026-02-22", "reach": 40740.0, "views": 0.0, "engagement": 3350.0, "likes": 88.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 8.22287677957781, "performance": "high"}, {"post_id": 29, "slide": 26, "post_number": 29, "type": "post", "title": "Daily Essential Grab", "date": "2026-02-22", "reach": 42339.0, "views": 0.0, "engagement": 3425.0, "likes": 184.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 8.089468338883773, "performance": "high"}, {"post_id": 30, "slide": 26, "post_number": 30, "type": "video", "title": "Nina \u2013 Cucur Udang Rangup", "date": "2026-02-24", "reach": 0.0, "views": 50440.0, "engagement": 0.0, "likes": 33.0, "shares": 2.0, "comments": 0.0, "saved": 1.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 31, "slide": 26, "post_number": 31, "type": "video", "title": "TikTok Video \u2013 Dua Lipa Trend", "date": "2026-02-24", "reach": 0.0, "views": 50719.0, "engagement": 0.0, "likes": 8.0, "shares": 0.0, "comments": 1.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 32, "slide": 27, "post_number": 32, "type": "post", "title": "Loyalty Program \u2013 Gorme Omura Knife Series", "date": "2026-02-25", "reach": 41788.0, "views": 0.0, "engagement": 4215.0, "likes": 268.0, "shares": 1.0, "comments": 2.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 10.08662774002106, "performance": "high"}, {"post_id": 33, "slide": 27, "post_number": 33, "type": "post", "title": "Loyalty Program \u2013 Gorme Omura Knife Series", "date": "2026-02-25", "reach": 42824.0, "views": 0.0, "engagement": 3395.0, "likes": 353.0, "shares": 3.0, "comments": 7.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 7.927797496730806, "performance": "high"}, {"post_id": 34, "slide": 27, "post_number": 34, "type": "video", "title": "TikTok Video \u2013 TFVM ada Produk Sendiri", "date": "2026-02-26", "reach": 0.0, "views": 50582.0, "engagement": 0.0, "likes": 34.0, "shares": 1.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 35, "slide": 27, "post_number": 35, "type": "video", "title": "Promo Video: Cahaya Ramadan", "date": "2026-02-26", "reach": 0.0, "views": 51285.0, "engagement": 0.0, "likes": 23.0, "shares": 0.0, "comments": 1.0, "saved": 1.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 36, "slide": 27, "post_number": 36, "type": "video", "title": "Promo Video: Cahaya Ramadan", "date": "2026-02-26", "reach": 0.0, "views": 50209.0, "engagement": 0.0, "likes": 30.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "high"}, {"post_id": 37, "slide": 34, "post_number": 37, "type": "video", "title": "Quesha: Back to School", "date": "2026-02-03", "reach": 0.0, "views": 10307.0, "engagement": 0.0, "likes": 225.0, "shares": 9.0, "comments": 41.0, "saved": 7.0, "link": "https://www.instagram.com/p/DFmlwmaTHdI", "has_link": true, "engagement_rate": 0, "performance": "high"}, {"post_id": 38, "slide": 34, "post_number": 38, "type": "video", "title": "Nina: Tomyam Seafood Recipe", "date": "2026-02-07", "reach": 0.0, "views": 35536.0, "engagement": 0.0, "likes": 605.0, "shares": 658.0, "comments": 16.0, "saved": 252.0, "link": "https://www.instagram.com/p/DFws0PizSyc", "has_link": true, "engagement_rate": 0, "performance": "high"}, {"post_id": 39, "slide": 35, "post_number": 39, "type": "video", "title": "Saida: Back to School/ Promosi Ahli", "date": "2026-02-10", "reach": 0.0, "views": 3253.0, "engagement": 0.0, "likes": 326.0, "shares": 22.0, "comments": 9.0, "saved": 4.0, "link": "https://www.instagram.com/reel/DF4rOJ5pd-b", "has_link": true, "engagement_rate": 0, "performance": "low"}, {"post_id": 40, "slide": 35, "post_number": 40, "type": "video", "title": "Wana: Grocery Shopping with 2 Kids", "date": "2026-02-15", "reach": 0.0, "views": 2186.0, "engagement": 0.0, "likes": 127.0, "shares": 0.0, "comments": 64.0, "saved": 1.0, "link": "https://www.instagram.com/reel/DGFt7mBy5Rf", "has_link": true, "engagement_rate": 0, "performance": "low"}, {"post_id": 41, "slide": 35, "post_number": 41, "type": "video", "title": "Nina: Cucur Udang Rangup", "date": "2026-02-24", "reach": 0.0, "views": 42767.0, "engagement": 0.0, "likes": 694.0, "shares": 299.0, "comments": 18.0, "saved": 791.0, "link": "https://www.instagram.com/p/DGdSCbmTSKZ", "has_link": true, "engagement_rate": 0, "performance": "high"}, {"post_id": 42, "slide": 79, "post_number": 42, "type": "post", "title": "Selamat Hari Valentine", "date": "2026-02-05", "reach": 93349.0, "views": 0.0, "engagement": 4147.0, "likes": 538.0, "shares": 16.0, "comments": 5.0, "saved": 3.0, "link": "", "has_link": false, "engagement_rate": 4.4424685856302695, "performance": "high"}, {"post_id": 43, "slide": 79, "post_number": 43, "type": "post", "title": "Cahaya Ramadan", "date": "2026-02-24", "reach": 151263.0, "views": 0.0, "engagement": 33779.0, "likes": 965.0, "shares": 232.0, "comments": 11.0, "saved": 29.0, "link": "", "has_link": false, "engagement_rate": 22.331303755710252, "performance": "high"}, {"post_id": 44, "slide": 79, "post_number": 44, "type": "post", "title": "Tawaran Istimewa 4 Hari", "date": "2026-02-26", "reach": 138367.0, "views": 0.0, "engagement": 10707.0, "likes": 541.0, "shares": 28.0, "comments": 13.0, "saved": 4.0, "link": "", "has_link": false, "engagement_rate": 7.73811674749037, "performance": "high"}, {"post_id": 45, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "low"}, {"post_id": 46, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "low"}, {"post_id": 47, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "low"}, {"post_id": 48, "slide": 44, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "low"}, {"post_id": 49, "slide": 25, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "low"}, {"post_id": 50, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "low"}, {"post_id": 51, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "low"}, {"post_id": 52, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "low"}, {"post_id": 53, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "link": "", "has_link": false, "engagement_rate": 0, "performance": "low"}], "platform_analysis": {"Instagram": {"avg_engagement": 0.0, "total_engagement": 0.0, "post_count": 0}, "Unknown": {"avg_engagement": 5072.0, "total_engagement": 96369.0, "post_count": 19}}, "monthly_comparison": {}, "_metadata": {"generated_at": "2026-01-12T18:25:20.200168", "data_version": "1.0", "posts_count": 53, "time_period": {"start": "2026-02-03", "end": "2026-02-26", "days": 24}, "dashboard_type": "social_media", "status": "success", "unique_slides": 16, "source_files": ["TFVM_REPORT (MARCH 2025).pptx", null, "\ud83d\udcca SUMMARY STATISTICS", "Total Posts", "Video Posts", "Average Reach", "Average Engagement", "Total Engagement", "Post Types"]}};
        
        // Navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.content-area').forEach(page => {
                page.classList.remove('active');
            });
            
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Add active class to clicked nav item
            event.currentTarget.classList.add('active');
            
            // Initialize charts for the page
            setTimeout(() => initializePageCharts(pageId), 100);
        }
        
        // Initialize page-specific charts
        function initializePageCharts(pageId) {
            switch(pageId) {
                case 'overview':
                    createOverviewCharts();
                    break;
                case 'performance':
                    createPerformanceCharts();
                    break;
                case 'trends':
                    createTrendCharts();
                    break;
                case 'platforms':
                    createPlatformCharts();
                    break;
                case 'insights':
                    createInsightsContent();
                    break;
            }
        }
        
        // Overview Charts
        function createOverviewCharts() {
            const summary = analyticsData.summary_stats;
            
            // Content Type Distribution
            if (summary) {
                const contentData = [{
                    values: [summary.video_posts || 0, summary.image_posts || 0],
                    labels: ['Video Posts', 'Image Posts'],
                    type: 'pie',
                    hole: 0.4,
                    marker: {
                        colors: ['#FF0000', '#4267B2']
                    },
                    textinfo: 'percent+label',
                    hoverinfo: 'label+percent+value'
                }];
                
                Plotly.newPlot('content-type-chart', contentData, {
                    height: 320,
                    margin: {t: 20, b: 20, l: 20, r: 20},
                    showlegend: true,
                    paper_bgcolor: 'transparent',
                    plot_bgcolor: 'transparent'
                }, {displayModeBar: false});
            }
            
            // Platform Performance
            const platforms = analyticsData.platform_analysis;
            if (platforms) {
                const platformNames = [];
                const platformEngagement = [];
                const platformColors = [];
                
                for (const [platform, data] of Object.entries(platforms)) {
                    if (data && data.avg_engagement > 0) {
                        platformNames.push(platform);
                        platformEngagement.push(data.avg_engagement);
                        
                        // Assign colors based on platform
                        const colorMap = {
                            'Instagram': '#E1306C',
                            'Facebook': '#4267B2',
                            'Twitter': '#1DA1F2',
                            'TikTok': '#000000',
                            'YouTube': '#FF0000',
                            'Other': '#6C757D'
                        };
                        platformColors.push(colorMap[platform] || '#666');
                    }
                }
                
                if (platformNames.length > 0) {
                    const platformData = [{
                        x: platformNames,
                        y: platformEngagement,
                        type: 'bar',
                        marker: {color: platformColors},
                        text: platformEngagement.map(v => v.toLocaleString()),
                        textposition: 'auto'
                    }];
                    
                    Plotly.newPlot('platform-performance-chart', platformData, {
                        height: 320,
                        margin: {t: 20, b: 100, l: 50, r: 30},
                        xaxis: {title: 'Platform', tickangle: -45},
                        yaxis: {title: 'Average Engagement'},
                        paper_bgcolor: 'transparent',
                        plot_bgcolor: 'transparent'
                    }, {displayModeBar: false});
                }
            }
        }
        
        // Performance Charts
        function createPerformanceCharts() {
            // Populate top posts table
            const topPosts = analyticsData.performance_analysis?.top_posts || [];
            const tableBody = document.getElementById('top-posts-table');
            tableBody.innerHTML = '';
            
            topPosts.slice(0, 10).forEach((post, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td style="max-width: 300px;">${post.title || 'Untitled'}</td>
                    <td><span class="badge">${post.type || 'Post'}</span></td>
                    <td><strong>${post.engagement?.toLocaleString() || 0}</strong></td>
                    <td>${post.reach?.toLocaleString() || 'N/A'}</td>
                    <td>${post.date || ''}</td>
                `;
                tableBody.appendChild(row);
            });
            
            // Content comparison chart
            const performance = analyticsData.performance_analysis;
            if (performance?.avg_engagement_by_type) {
                const { video, post } = performance.avg_engagement_by_type;
                const comparisonData = [{
                    x: ['Video', 'Image/Post'],
                    y: [video || 0, post || 0],
                    type: 'bar',
                    marker: {
                        color: ['#FF0000', '#4267B2']
                    },
                    text: [video?.toLocaleString() || '0', post?.toLocaleString() || '0'],
                    textposition: 'auto'
                }];
                
                Plotly.newPlot('content-comparison-chart', comparisonData, {
                    height: 320,
                    margin: {t: 20, b: 50, l: 50, r: 30},
                    xaxis: {title: 'Content Type'},
                    yaxis: {title: 'Average Engagement'},
                    paper_bgcolor: 'transparent',
                    plot_bgcolor: 'transparent'
                }, {displayModeBar: false});
            }
        }
        
        // Trend Charts
        function createTrendCharts() {
            const trends = analyticsData.engagement_trends;
            
            // Daily trend chart
            if (trends?.daily) {
                // Filter out invalid data
                const validData = trends.daily.dates.map((date, i) => ({
                    date,
                    engagement: trends.daily.engagements[i] || 0
                })).filter(item => item.date && !isNaN(item.engagement));
                
                if (validData.length > 0) {
                    const trendData = [{
                        x: validData.map(d => d.date),
                        y: validData.map(d => d.engagement),
                        mode: 'lines+markers',
                        name: 'Daily Engagement',
                        line: {color: '#4267B2', width: 3},
                        marker: {size: 6}
                    }];
                    
                    // Add 7-day moving average if available
                    if (trends.daily.engagement_7d_avg?.length > 0) {
                        const avgData = [{
                            x: validData.map(d => d.date),
                            y: trends.daily.engagement_7d_avg.slice(0, validData.length),
                            mode: 'lines',
                            name: '7-Day Average',
                            line: {color: '#E1306C', width: 2, dash: 'dash'}
                        }];
                        trendData.push(avgData[0]);
                    }
                    
                    Plotly.newPlot('daily-trend-chart', trendData, {
                        height: 320,
                        margin: {t: 20, b: 50, l: 50, r: 30},
                        xaxis: {title: 'Date', tickangle: -45},
                        yaxis: {title: 'Engagement'},
                        paper_bgcolor: 'transparent',
                        plot_bgcolor: 'transparent',
                        showlegend: true
                    }, {displayModeBar: false});
                }
            }
            
            // Day of week chart
            if (trends?.day_of_week) {
                const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
                const dayData = days.map(day => {
                    const stats = trends.day_of_week[day];
                    return stats ? stats.avg_engagement || 0 : 0;
                });
                
                const dayChartData = [{
                    x: days,
                    y: dayData,
                    type: 'bar',
                    marker: {
                        color: dayData.map((val, i) => i === days.indexOf(trends.best_day) ? '#4CAF50' : '#4267B2')
                    },
                    text: dayData.map(val => val.toFixed(0)),
                    textposition: 'auto'
                }];
                
                Plotly.newPlot('day-of-week-chart', dayChartData, {
                    height: 320,
                    margin: {t: 20, b: 50, l: 50, r: 30},
                    xaxis: {title: 'Day of Week'},
                    yaxis: {title: 'Average Engagement'},
                    paper_bgcolor: 'transparent',
                    plot_bgcolor: 'transparent',
                    annotations: trends.best_day ? [{
                        x: trends.best_day,
                        y: dayData[days.indexOf(trends.best_day)],
                        text: 'Best Day',
                        showarrow: true,
                        arrowhead: 2,
                        arrowsize: 1,
                        arrowwidth: 2,
                        arrowcolor: '#4CAF50'
                    }] : []
                }, {displayModeBar: false});
            }
        }
        
        // Platform Charts
        function createPlatformCharts() {
            const platforms = analyticsData.platform_analysis;
            const platformGrid = document.querySelector('.platform-grid');
            
            if (platforms && platformGrid) {
                platformGrid.innerHTML = '';
                
                const platformIcons = {
                    'Instagram': 'fa-instagram',
                    'Facebook': 'fa-facebook',
                    'Twitter': 'fa-twitter',
                    'TikTok': 'fa-music',
                    'YouTube': 'fa-youtube',
                    'Other': 'fa-globe'
                };
                
                const platformColors = {
                    'Instagram': '#E1306C',
                    'Facebook': '#4267B2',
                    'Twitter': '#1DA1F2',
                    'TikTok': '#000000',
                    'YouTube': '#FF0000',
                    'Other': '#6C757D'
                };
                
                for (const [platform, data] of Object.entries(platforms)) {
                    if (data && data.avg_engagement > 0) {
                        const card = document.createElement('div');
                        card.className = 'platform-card glass-effect';
                        card.style.background = `rgba(${hexToRgb(platformColors[platform] || '#666')}, 0.1)`;
                        
                        card.innerHTML = `
                            <div class="platform-icon" style="color: ${platformColors[platform] || '#666'}">
                                <i class="fab ${platformIcons[platform] || 'fa-globe'}"></i>
                            </div>
                            <h3 style="margin-bottom: 10px;">${platform}</h3>
                            <div style="font-size: 2rem; font-weight: 700; margin-bottom: 10px;">
                                ${data.avg_engagement.toLocaleString()}
                            </div>
                            <div style="color: #666; font-size: 0.9rem;">
                                ${data.post_count || 0} posts
                            </div>
                        `;
                        
                        platformGrid.appendChild(card);
                    }
                }
            }
            
            // Platform distribution chart
            if (platforms) {
                const platformNames = [];
                const platformCounts = [];
                const platformColors = [];
                
                for (const [platform, data] of Object.entries(platforms)) {
                    if (data && data.post_count > 0) {
                        platformNames.push(platform);
                        platformCounts.push(data.post_count);
                        
                        const colorMap = {
                            'Instagram': '#E1306C',
                            'Facebook': '#4267B2',
                            'Twitter': '#1DA1F2',
                            'TikTok': '#000000',
                            'YouTube': '#FF0000',
                            'Other': '#6C757D'
                        };
                        platformColors.push(colorMap[platform] || '#666');
                    }
                }
                
                if (platformNames.length > 0) {
                    const distributionData = [{
                        values: platformCounts,
                        labels: platformNames,
                        type: 'pie',
                        hole: 0.3,
                        marker: {colors: platformColors},
                        textinfo: 'percent+label',
                        hoverinfo: 'label+percent+value'
                    }];
                    
                    Plotly.newPlot('platform-distribution-chart', distributionData, {
                        height: 320,
                        margin: {t: 20, b: 20, l: 20, r: 20},
                        showlegend: true,
                        paper_bgcolor: 'transparent',
                        plot_bgcolor: 'transparent'
                    }, {displayModeBar: false});
                }
            }
        }
        
        // Insights Content
        function createInsightsContent() {
            // Generate recommendations based on analytics
            const recommendations = [];
            const summary = analyticsData.summary_stats;
            const performance = analyticsData.performance_analysis;
            const trends = analyticsData.engagement_trends;
            
            // Recommendation 1: Content type
            if (performance?.avg_engagement_by_type) {
                const { video, post } = performance.avg_engagement_by_type;
                if (video > post * 1.5) {
                    recommendations.push({
                        icon: 'fa-video',
                        title: 'Double Down on Video',
                        text: 'Video content performs 50%+ better than images. Create more video content.'
                    });
                }
            }
            
            // Recommendation 2: Posting schedule
            if (trends?.best_day) {
                recommendations.push({
                    icon: 'fa-calendar-alt',
                    title: 'Optimize Posting Schedule',
                    text: `Post more on ${trends.best_day}s when engagement is highest.`
                });
            }
            
            // Recommendation 3: Links
            if (summary?.links_percentage < 50) {
                recommendations.push({
                    icon: 'fa-link',
                    title: 'Add More Trackable Links',
                    text: `Only ${summary.links_percentage}% of posts have links. Add links to track performance.`
            });
            }
            
            // Recommendation 4: Content consistency
            const dailyData = trends?.daily?.engagements || [];
            if (dailyData.length > 0) {
                const avg = dailyData.reduce((a, b) => a + b, 0) / dailyData.length;
                const stdDev = Math.sqrt(dailyData.reduce((sq, n) => sq + Math.pow(n - avg, 2), 0) / dailyData.length);
                const cv = (stdDev / avg) * 100;
                
                if (cv > 50) {
                    recommendations.push({
                        icon: 'fa-chart-line',
                        title: 'Improve Content Consistency',
                        text: 'Engagement varies significantly day-to-day. Maintain consistent posting quality.'
                });
                }
            }
            
            // Display recommendations
            const recommendationsList = document.getElementById('recommendations-list');
            if (recommendationsList) {
                recommendationsList.innerHTML = '';
                recommendations.forEach(rec => {
                    const div = document.createElement('div');
                    div.className = 'insight-card glass-effect';
                    div.style.marginBottom = '15px';
                    div.innerHTML = `
                        <div class="insight-icon">
                            <i class="fas ${rec.icon}"></i>
                        </div>
                        <div class="insight-content">
                            <h4 style="margin-bottom: 5px; color: var(--dark);">${rec.title}</h4>
                            <div class="insight-text">${rec.text}</div>
                        </div>
                    `;
                    recommendationsList.appendChild(div);
                });
            }
        }
        
        // Utility function to convert hex to rgb
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? 
                `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` : 
                '102, 102, 102';
        }
        
        // Initialize dashboard
        window.onload = function() {
            // Initialize overview page
            createOverviewCharts();
        };
    </script>
</body>
</html>