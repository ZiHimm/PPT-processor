<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Media Analytics Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2196F3;
            --success-color: #4CAF50;
            --warning-color: #FF9800;
            --danger-color: #F44336;
            --instagram-color: #E1306C;
            --facebook-color: #4267B2;
            --tiktok-color: #000000;
            --youtube-color: #FF0000;
            --twitter-color: #1DA1F2;
            --dark-color: #2c3e50;
            --light-color: #f5f7fa;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--light-color);
            color: var(--dark-color);
            min-height: 100vh;
            transition: all 0.3s;
        }
        
        /* Dark Mode Styles */
        body.dark-mode {
            background: #1a1a1a;
            color: #e2e8f0;
        }
        
        .dark-mode .sidebar {
            background: #252525;
        }
        
        .dark-mode .sidebar-header {
            background: linear-gradient(135deg, var(--primary-color), #1976D2);
        }
        
        .dark-mode .nav-item {
            color: #cbd5e0;
        }
        
        .dark-mode .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .dark-mode .nav-item.active {
            background: rgba(33, 150, 243, 0.2);
            color: #90caf9;
        }
        
        .dark-mode .stat-card,
        .dark-mode .chart-card,
        .dark-mode .insight-card,
        .dark-mode .post-table-container,
        .dark-mode .comparison-card {
            background: #2d3748;
            color: #e2e8f0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar Navigation */
        .sidebar {
            width: 250px;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }
        
        .sidebar-header {
            padding: 25px;
            background: linear-gradient(135deg, var(--primary-color), #1976D2);
            color: white;
            text-align: center;
        }
        
        .sidebar-header h2 {
            font-size: 1.4rem;
            margin-bottom: 5px;
        }
        
        .sidebar-header p {
            font-size: 0.85rem;
            opacity: 0.9;
        }
        
        .nav-menu {
            padding: 20px 0;
        }
        
        .nav-item {
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid transparent;
            text-decoration: none;
            color: var(--dark-color);
        }
        
        .nav-item:hover {
            background: rgba(33, 150, 243, 0.1);
            border-left: 4px solid var(--primary-color);
        }
        
        .nav-item.active {
            background: rgba(33, 150, 243, 0.15);
            border-left: 4px solid var(--primary-color);
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .nav-item i {
            font-size: 1.2rem;
            width: 24px;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 25px;
        }
        
        /* Dark Mode Toggle Button */
        .dark-mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: white;
            color: #333;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .dark-mode .dark-mode-toggle {
            background: #4a5568;
            color: #e2e8f0;
        }
        
        /* Page Content */
        .page {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card.success { border-top: 5px solid var(--success-color); }
        .stat-card.warning { border-top: 5px solid var(--warning-color); }
        .stat-card.danger { border-top: 5px solid var(--danger-color); }
        .stat-card.info { border-top: 5px solid var(--primary-color); }
        
        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .stat-value {
            font-size: 2.8rem;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .stat-label {
            color: #7f8c8d;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .stat-subtext {
            color: #666;
            font-size: 0.9rem;
            margin-top: 8px;
        }
        
        /* Charts */
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .chart-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .chart-title {
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chart-container {
            width: 100%;
            height: 350px;
        }
        
        /* Insights Container */
        .insights-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }
        
        .insight-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 5px solid var(--primary-color);
        }
        
        .insight-title {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Posts Table */
        .post-table-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            overflow: hidden;
            margin-bottom: 30px;
            max-height: 500px;
            overflow-y: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: linear-gradient(135deg, var(--primary-color), #1976D2);
            color: white;
            padding: 18px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
        }
        
        td {
            padding: 16px;
            border-bottom: 1px solid #eee;
        }
        
        tr:hover {
            background: rgba(33, 150, 243, 0.05);
        }
        
        .badge {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .badge-success { background: #E8F5E9; color: var(--success-color); }
        .badge-warning { background: #FFF3E0; color: var(--warning-color); }
        .badge-danger { background: #FFEBEE; color: var(--danger-color); }
        .badge-info { background: #E3F2FD; color: var(--primary-color); }
        
        /* Platform Cards */
        .platform-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .platform-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
        }
        
        .platform-card:hover {
            transform: translateY(-5px);
        }
        
        .platform-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .instagram { color: var(--instagram-color); }
        .facebook { color: var(--facebook-color); }
        .tiktok { color: var(--tiktok-color); }
        .youtube { color: var(--youtube-color); }
        .twitter { color: var(--twitter-color); }
        
        /* Performance Comparison */
        .comparison-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .comparison-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .comparison-table th {
            background: #f8f9fa;
            color: #333;
            padding: 12px;
            font-size: 0.9rem;
        }
        
        .comparison-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #eee;
        }
        
        /* Search and Filter */
        .search-filter-container {
            margin: 20px 0;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .filter-chip {
            cursor: pointer;
            background: var(--primary-color);
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.85rem;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
        }
        
        .filter-chip:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        /* Mobile menu button */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        /* Responsive */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
            }
            
            .sidebar-header h2,
            .sidebar-header p,
            .nav-item span {
                display: none;
            }
            
            .nav-item {
                justify-content: center;
                padding: 20px;
            }
            
            .main-content {
                margin-left: 70px;
            }
        }
        
        @media (max-width: 768px) {
            .stats-grid,
            .charts-container,
            .platform-grid,
            .comparison-container {
                grid-template-columns: 1fr;
            }
            
            .main-content {
                padding: 15px;
            }
            
            .sidebar {
                display: none;
                width: 100%;
                position: fixed;
                z-index: 999;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .mobile-menu-btn {
                display: block;
            }
        }
    </style>
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button class="dark-mode-toggle" id="dark-mode-toggle">
        <i class="fas fa-moon"></i> Dark Mode
    </button>
    
    <button class="mobile-menu-btn" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>
    
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>üìä Analytics</h2>
                <p>Social Media Dashboard</p>
            </div>
            
            <div class="nav-menu">
                <a href="#overview" class="nav-item active" onclick="showPage('overview')">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Overview</span>
                </a>
                
                <a href="#performance" class="nav-item" onclick="showPage('performance')">
                    <i class="fas fa-chart-bar"></i>
                    <span>Performance</span>
                </a>
                
                <a href="#trends" class="nav-item" onclick="showPage('trends')">
                    <i class="fas fa-chart-line"></i>
                    <span>Trends</span>
                </a>
                
                <a href="#platforms" class="nav-item" onclick="showPage('platforms')">
                    <i class="fas fa-globe"></i>
                    <span>Platforms</span>
                </a>
                
                <a href="#posts" class="nav-item" onclick="showPage('posts')">
                    <i class="fas fa-list-alt"></i>
                    <span>All Posts</span>
                </a>
            </div>
            
            <div style="padding: 20px; color: #666; font-size: 0.9rem; text-align: center;">
                <p>Generated: 2026-01-16 17:38</p>
                <p>Posts: 53</p>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Overview Page -->
            <div id="overview" class="page active">
                <h1 style="margin-bottom: 25px; color: var(--dark-color);">
                    <i class="fas fa-chart-line"></i> Social Media Overview
                </h1>
                
                <!-- Automated Insights -->
                <div class="insights-container">
                    <h3><i class="fas fa-lightbulb"></i> Automated Insights</h3>
                    <div id="insights-list">
                        
        <div class="insight-card">
            <div class="insight-title">
                <i class="fas fa-check-circle" style="color: #4CAF50;"></i>
                ‚úÖ Excellent! Engagement rate is 8.9% (industry average is 1-3%)
            </div>
        </div>
        
        <div class="insight-card">
            <div class="insight-title">
                <i class="fas fa-info-circle" style="color: #2196F3;"></i>
                üìÖ Best posting day: Thursday (avg 7,427 engagement)
            </div>
        </div>
        
        <div class="insight-card">
            <div class="insight-title">
                <i class="fas fa-exclamation-triangle" style="color: #FF9800;"></i>
                ‚ö†Ô∏è Only 4% of posts are high performing. Need improvement.
            </div>
        </div>
        
        <div class="insight-card">
            <div class="insight-title">
                <i class="fas fa-info-circle" style="color: #2196F3;"></i>
                üîó Only 9% of posts have links. Add more trackable links!
            </div>
        </div>
        
                    </div>
                </div>
                
                <!-- Statistics Cards -->
                <div class="stats-grid">
                    <div class="stat-card info">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-value">53</div>
                        <div class="stat-label">Total Posts</div>
                        <div class="stat-subtext">
                            25 videos, 28 images
                        </div>
                    </div>
                    
                    <div class="stat-card success">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-value">2</div>
                        <div class="stat-label">High Performing</div>
                        <div class="stat-subtext">
                            3.8% of total posts
                        </div>
                    </div>
                    
                    <div class="stat-card" style="border-top: 5px solid #FF9800;">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-value">5,072</div>
                        <div class="stat-label">Avg Engagement</div>
                        <div class="stat-subtext">
                            Per post average
                        </div>
                    </div>
                    
                    <div class="stat-card" style="border-top: 5px solid #4CAF50;">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-value">8.9%</div>
                        <div class="stat-label">Engagement Rate</div>
                        <div class="stat-subtext">
                            Industry avg: 1-3%
                        </div>
                    </div>
                </div>
                
                <!-- Performance Comparison -->
                <div class="comparison-container">
                    <div class="comparison-card">
                        <h3><i class="fas fa-trophy"></i> Top 5 Performing Posts</h3>
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Post</th>
                                    <th>Type</th>
                                    <th>Engagement</th>
                                    <th>Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                
            <tr>
                <td>Cahaya Ramadan</td>
                <td>Post</td>
                <td><strong>33779.0</strong></td>
                <td>2026-02-24</td>
            </tr>
        
            <tr>
                <td>Tawaran Istimewa 4 Hari</td>
                <td>Post</td>
                <td><strong>10707.0</strong></td>
                <td>2026-02-26</td>
            </tr>
        
            <tr>
                <td>Weekend Shopping Spree</td>
                <td>Post</td>
                <td><strong>4306.0</strong></td>
                <td>2026-02-03</td>
            </tr>
        
            <tr>
                <td>Loyalty Program ‚Äì Gorme Omura Knife Series</td>
                <td>Post</td>
                <td><strong>4215.0</strong></td>
                <td>2026-02-25</td>
            </tr>
        
            <tr>
                <td>Selamat Hari Valentine</td>
                <td>Post</td>
                <td><strong>4147.0</strong></td>
                <td>2026-02-05</td>
            </tr>
        
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="comparison-card">
                        <h3><i class="fas fa-exclamation-triangle"></i> Need Improvement</h3>
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Post</th>
                                    <th>Type</th>
                                    <th>Engagement</th>
                                    <th>Priority</th>
                                </tr>
                            </thead>
                            <tbody>
                                
            <tr>
                <td>KOL TikTok ‚Äì Nina Tomyam Seafood Recipe</td>
                <td>Video</td>
                <td>0.0</td>
                <td><span class="badge badge-danger">High</span></td>
            </tr>
        
            <tr>
                <td>KOL TikTok ‚Äì Nina Cucur Udang Rangup</td>
                <td>Video</td>
                <td>0.0</td>
                <td><span class="badge badge-danger">High</span></td>
            </tr>
        
            <tr>
                <td>Promo Video: Cahaya Ramadan</td>
                <td>Video</td>
                <td>0.0</td>
                <td><span class="badge badge-danger">High</span></td>
            </tr>
        
            <tr>
                <td>Promo Cahaya Ramadan</td>
                <td>Video</td>
                <td>0.0</td>
                <td><span class="badge badge-danger">High</span></td>
            </tr>
        
            <tr>
                <td>KOL TikTok ‚Äì Quesha Back To School Promo</td>
                <td>Video</td>
                <td>0.0</td>
                <td><span class="badge badge-danger">High</span></td>
            </tr>
        
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Charts -->
                <div class="charts-container">
                    <div class="chart-card">
                        <div class="chart-title">
                            <i class="fas fa-chart-pie"></i> Content Type Distribution
                        </div>
                        <div class="chart-container" id="overview-chart1"></div>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-title">
                            <i class="fas fa-chart-bar"></i> Top 10 Posts by Engagement
                        </div>
                        <div class="chart-container" id="overview-chart2"></div>
                    </div>
                </div>
            </div>
            
            <!-- Performance Page -->
            <div id="performance" class="page">
                <h1 style="margin-bottom: 25px; color: var(--dark-color);">
                    <i class="fas fa-chart-bar"></i> Performance Analysis
                </h1>
                
                <div class="charts-container">
                    <div class="chart-card">
                        <div class="chart-title">
                            <i class="fas fa-chart-line"></i> Video vs Post Performance
                        </div>
                        <div class="chart-container" id="performance-chart1"></div>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-title">
                            <i class="fas fa-fire"></i> Engagement Distribution
                        </div>
                        <div class="chart-container" id="performance-chart2"></div>
                    </div>
                </div>
                
                <!-- Performance Metrics -->
                <div class="stats-grid">
                    <div class="stat-card" style="border-top: 5px solid #2196F3;">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-value">96,369</div>
                        <div class="stat-label">Total Engagement</div>
                        <div class="stat-subtext">All posts combined</div>
                    </div>
                    
                    <div class="stat-card" style="border-top: 5px solid #4CAF50;">
                        <div class="stat-icon">‚ö°</div>
                        <div class="stat-value">33,779</div>
                        <div class="stat-label">Max Engagement</div>
                        <div class="stat-subtext">Best performing post</div>
                    </div>
                    
                    <div class="stat-card" style="border-top: 5px solid #FF9800;">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-value">0</div>
                        <div class="stat-label">Avg Video Engagement</div>
                        <div class="stat-subtext">Video content performance</div>
                    </div>
                    
                    <div class="stat-card" style="border-top: 5px solid #F44336;">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-value">5,072</div>
                        <div class="stat-label">Avg Post Engagement</div>
                        <div class="stat-subtext">Image/Post performance</div>
                    </div>
                </div>
            </div>
            
            <!-- Trends Page -->
            <div id="trends" class="page">
                <h1 style="margin-bottom: 25px; color: var(--dark-color);">
                    <i class="fas fa-chart-line"></i> Engagement Trends
                </h1>
                
                <div class="chart-card" style="margin-bottom: 30px;">
                    <div class="chart-title">
                        <i class="fas fa-chart-line"></i> Daily Engagement Trend
                    </div>
                    <div class="chart-container" id="trends-chart1"></div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card" style="border-top: 5px solid var(--primary-color);">
                        <div class="stat-icon">üìÖ</div>
                        <div class="stat-value">9</div>
                        <div class="stat-label">Days Analyzed</div>
                        <div class="stat-subtext">
                            2026-02-03 to 2026-02-26
                        </div>
                    </div>
                    
                    <div class="stat-card" style="border-top: 5px solid var(--success-color);">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-value">Thursday</div>
                        <div class="stat-label">Best Day to Post</div>
                        <div class="stat-subtext">
                            Highest avg engagement
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Platforms Page -->
            <div id="platforms" class="page">
                <h1 style="margin-bottom: 25px; color: var(--dark-color);">
                    <i class="fas fa-globe"></i> Platform Analysis
                </h1>
                
                <div class="platform-grid">
                    
                    <div class="platform-card">
                        <div class="platform-icon instagram">
                            <i class="fab fa-instagram"></i>
                        </div>
                        <h3>Instagram</h3>
                        <div style="font-size: 2rem; font-weight: 700; margin: 10px 0;">
                            0
                        </div>
                        <div style="color: #666; font-size: 0.9rem;">
                            0 posts
                        </div>
                        <div style="color: #666; font-size: 0.9rem; margin-top: 5px;">
                            Total: 0 engagement
                        </div>
                    </div>
                
                </div>
                
                <div class="chart-card">
                    <div class="chart-title">
                        <i class="fas fa-chart-pie"></i> Platform Distribution by Engagement
                    </div>
                    <div class="chart-container" id="platforms-chart1"></div>
                </div>
            </div>
            
            <!-- All Posts Page -->
            <div id="posts" class="page">
                <h1 style="margin-bottom: 25px; color: var(--dark-color);">
                    <i class="fas fa-list-alt"></i> All Posts (53)
                </h1>
                
                <!-- Search and Filter -->
                <div class="search-filter-container">
                    <div style="position: relative; flex: 1; min-width: 250px;">
                        <input type="text" id="post-search" placeholder="Search posts..." 
                               style="width: 100%; padding: 12px 40px 12px 15px; border: 2px solid #ddd; border-radius: 25px; font-size: 16px;">
                        <i class="fas fa-search" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #666;"></i>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <select id="filter-type" style="padding: 10px 15px; border: 2px solid #ddd; border-radius: 8px;">
                            <option value="all">All Types</option>
                            <option value="video">Video</option>
                            <option value="post">Post</option>
                        </select>
                        
                        <select id="filter-performance" style="padding: 10px 15px; border: 2px solid #ddd; border-radius: 8px;">
                            <option value="all">All Performance</option>
                            <option value="high">High Performing</option>
                            <option value="medium">Medium Performing</option>
                            <option value="low">Low Performing</option>
                        </select>
                        
                        <select id="sort-by" style="padding: 10px 15px; border: 2px solid #ddd; border-radius: 8px;">
                            <option value="engagement_desc">Engagement (High to Low)</option>
                            <option value="engagement_asc">Engagement (Low to High)</option>
                            <option value="date_desc">Date (Newest)</option>
                            <option value="date_asc">Date (Oldest)</option>
                            <option value="title">Title (A-Z)</option>
                        </select>
                    </div>
                    
                    <div style="display: flex; gap: 5px; flex-wrap: wrap;">
                        <span class="filter-chip" onclick="setFilter('video')" style="background: #F44336;">
                            <i class="fas fa-video"></i> Videos
                        </span>
                        <span class="filter-chip" onclick="setFilter('post')" style="background: #2196F3;">
                            <i class="fas fa-image"></i> Posts
                        </span>
                        <span class="filter-chip" onclick="setFilter('high')" style="background: #4CAF50;">
                            <i class="fas fa-trophy"></i> High Performing
                        </span>
                        <button onclick="clearFilters()" style="background: #666; color: white; border: none; padding: 6px 12px; border-radius: 16px; cursor: pointer; font-size: 0.85rem;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
                
                <div id="post-count" style="margin: 10px 0 20px 0; color: #666; font-size: 0.9rem;">
                    Showing 53 of 53 posts
                </div>
                
                <!-- Posts Table -->
                <div class="post-table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Post Title</th>
                                <th>Performance</th>
                                <th>Type</th>
                                <th>Engagement</th>
                                <th>Reach</th>
                                <th>Views</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="post-table-body">
                            
        <tr>
            <td>
                Weekend Shopping Spree
                
            </td>
            <td>
                <span class="badge badge-warning">
                    Medium
                </span>
            </td>
            <td>Post</td>
            <td>3,775</td>
            <td>
                41,607
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                N/A
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-03</td>
        </tr>
        
        <tr>
            <td>
                KOL TikTok ‚Äì Nina Tomyam Seafood Recipe
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                58,652
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-07</td>
        </tr>
        
        <tr>
            <td>
                Loyalty Program (Gorme Omura Knife Series)
                
            </td>
            <td>
                <span class="badge badge-warning">
                    Medium
                </span>
            </td>
            <td>Post</td>
            <td>3,305</td>
            <td>
                40,415
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                N/A
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-11</td>
        </tr>
        
        <tr>
            <td>
                Daily Essentials Grab
                
            </td>
            <td>
                <span class="badge badge-warning">
                    Medium
                </span>
            </td>
            <td>Post</td>
            <td>3,418</td>
            <td>
                44,105
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                N/A
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-17</td>
        </tr>
        
        <tr>
            <td>
                KOL TikTok ‚Äì Nina Cucur Udang Rangup
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                55,705
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-24</td>
        </tr>
        
        <tr>
            <td>
                Loyalty Program (Gorme Omura Knife Series)
                
            </td>
            <td>
                <span class="badge badge-warning">
                    Medium
                </span>
            </td>
            <td>Post</td>
            <td>3,391</td>
            <td>
                42,212
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                N/A
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-25</td>
        </tr>
        
        <tr>
            <td>
                Promo Video: Cahaya Ramadan
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                51,012
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-26</td>
        </tr>
        
        <tr>
            <td>
                Weekend Shopping Spree
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Post</td>
            <td>1,008</td>
            <td>
                11,692
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                N/A
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-03</td>
        </tr>
        
        <tr>
            <td>
                Loyalty Program (Gorme Omura Knife Series)
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Post</td>
            <td>1,002</td>
            <td>
                12,157
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                N/A
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-11</td>
        </tr>
        
        <tr>
            <td>
                Daily Essential Grab
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Post</td>
            <td>1,025</td>
            <td>
                12,450
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                N/A
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-17</td>
        </tr>
        
        <tr>
            <td>
                Loyalty Program (Gorme Omura Knife Series)
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Post</td>
            <td>1,023</td>
            <td>
                12,913
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                N/A
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-25</td>
        </tr>
        
        <tr>
            <td>
                Promo Cahaya Ramadan
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                35,810
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-26</td>
        </tr>
        
        <tr>
            <td>
                KOL TikTok ‚Äì Quesha Back To School Promo
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                17,343
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-03</td>
        </tr>
        
        <tr>
            <td>
                KOL TikTok ‚Äì Nina Tomyam Seafood Recipe
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                19,125
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-07</td>
        </tr>
        
        <tr>
            <td>
                KOL TikTok ‚Äì Saida Back To School / Promosi Ahli
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                22,053
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-10</td>
        </tr>
        
        <tr>
            <td>
                KOL TikTok ‚Äì Anne Weekend Groceries Shopping
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                28,764
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-10</td>
        </tr>
        
        <tr>
            <td>
                TikTok ASMR ‚Äì Restock Pantry
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                23,571
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-14</td>
        </tr>
        
        <tr>
            <td>
                KOL TikTok ‚Äì Wana Grocery Shopping with 2 Kids
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                23,214
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-17</td>
        </tr>
        
        <tr>
            <td>
                TikTok Video ‚Äì Dua Lipa Trend
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                45,424
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-24</td>
        </tr>
        
        <tr>
            <td>
                KOL TikTok ‚Äì Nina Cucur Udang Rangup
                
            </td>
            <td>
                <span class="badge badge-danger">
                    Low
                </span>
            </td>
            <td>Video</td>
            <td>0</td>
            <td>
                N/A
                <br><small style="color: #666;">Reach</small>
            </td>
            <td>
                12,631
                <br><small style="color: #666;">Views</small>
            </td>
            <td>2026-02-24</td>
        </tr>
        
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Analytics data
        const analyticsData = {"overview_stats": {"total_posts": 53, "video_posts": 25, "image_posts": 28, "video_percentage": 47.16981132075472, "high_performing_posts": 2, "high_performing_pct": 3.7735849056603774, "avg_reach": 50015.21052631579, "avg_views": 37807.8, "avg_engagement": 5072.0526315789475, "avg_likes": 324.84090909090907, "overall_engagement_rate": 8.87899049857574, "total_links": 5, "links_percentage": 9.433962264150944}, "performance_analysis": {"top_posts": [{"title": "Cahaya Ramadan", "type": "Post", "engagement": 33779.0, "reach": 151263.0, "views": 0.0, "date": "2026-02-24", "link": "", "slide": 79}, {"title": "Tawaran Istimewa 4 Hari", "type": "Post", "engagement": 10707.0, "reach": 138367.0, "views": 0.0, "date": "2026-02-26", "link": "", "slide": 79}, {"title": "Weekend Shopping Spree", "type": "Post", "engagement": 4306.0, "reach": 49275.0, "views": 0.0, "date": "2026-02-03", "link": "", "slide": 25}, {"title": "Loyalty Program \u2013 Gorme Omura Knife Series", "type": "Post", "engagement": 4215.0, "reach": 41788.0, "views": 0.0, "date": "2026-02-25", "link": "", "slide": 27}, {"title": "Selamat Hari Valentine", "type": "Post", "engagement": 4147.0, "reach": 93349.0, "views": 0.0, "date": "2026-02-05", "link": "", "slide": 79}, {"title": "Nina Tomyam Seafood Recipe", "type": "Post", "engagement": 4132.0, "reach": 47133.0, "views": 0.0, "date": "2026-02-07", "link": "", "slide": 25}, {"title": "Weekend Shopping Spree", "type": "Post", "engagement": 3775.0, "reach": 41607.0, "views": 0.0, "date": "2026-02-03", "link": "", "slide": 8}, {"title": "Weekend Shopping Spree", "type": "Post", "engagement": 3558.0, "reach": 41113.0, "views": 0.0, "date": "2026-02-03", "link": "", "slide": 25}, {"title": "Daily Essential Grab", "type": "Post", "engagement": 3425.0, "reach": 42339.0, "views": 0.0, "date": "2026-02-22", "link": "", "slide": 26}, {"title": "Daily Essentials Grab", "type": "Post", "engagement": 3418.0, "reach": 44105.0, "views": 0.0, "date": "2026-02-17", "link": "", "slide": 8}], "worst_posts": [{"title": "Loyalty Program (Gorme Omura Knife Series)", "type": "Post", "engagement": 1002.0, "date": "2026-02-11"}, {"title": "Weekend Shopping Spree", "type": "Post", "engagement": 1008.0, "date": "2026-02-03"}, {"title": "Loyalty Program (Gorme Omura Knife Series)", "type": "Post", "engagement": 1023.0, "date": "2026-02-25"}, {"title": "Daily Essential Grab", "type": "Post", "engagement": 1025.0, "date": "2026-02-17"}, {"title": "Loyalty Program (Gorme Omura Knife Series)", "type": "Post", "engagement": 3305.0, "date": "2026-02-11"}], "best_performing_type": "Post", "avg_engagement_by_type": {"video": 0.0, "post": 5072.0526315789475}, "total_engagement": 96369.0, "max_engagement": 33779.0, "min_engagement": 1002.0}, "engagement_trends": {"daily": {"dates": ["2026-02-03", "2026-02-05", "2026-02-07", "2026-02-11", "2026-02-17", "2026-02-22", "2026-02-24", "2026-02-25", "2026-02-26"], "engagements": [12647.0, 4147.0, 4132.0, 7715.0, 4443.0, 6775.0, 33779.0, 12024.0, 10707.0], "engagement_7d_avg": [12647.0, 8397.0, 6975.333333333333, 7160.25, 6616.8, 6643.166666666667, 10519.714285714286, 10430.714285714286, 11367.857142857143]}, "day_of_week": {"Monday": null, "Tuesday": {"avg_engagement": 7267.0, "total_engagement": 50869.0}, "Wednesday": {"avg_engagement": 2819.8571428571427, "total_engagement": 19739.0}, "Thursday": {"avg_engagement": 7427.0, "total_engagement": 14854.0}, "Friday": null, "Saturday": {"avg_engagement": 4132.0, "total_engagement": 4132.0}, "Sunday": {"avg_engagement": 3387.5, "total_engagement": 6775.0}}, "best_day": "Thursday"}, "post_details": [{"post_id": 1, "slide": 8, "post_number": 1, "type": "post", "title": "Weekend Shopping Spree", "date": "2026-02-03", "reach": 41607.0, "views": 0.0, "engagement": 3775.0, "likes": 320.0, "shares": 7.0, "comments": 0.0, "saved": 36.0, "engagement_rate": 9.072992525296224, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 2, "slide": 8, "post_number": 2, "type": "video", "title": "KOL TikTok \u2013 Nina Tomyam Seafood Recipe", "date": "2026-02-07", "reach": 0.0, "views": 58652.0, "engagement": 0.0, "likes": 171.0, "shares": 4.0, "comments": 5.0, "saved": 3.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 3, "slide": 8, "post_number": 3, "type": "post", "title": "Loyalty Program (Gorme Omura Knife Series)", "date": "2026-02-11", "reach": 40415.0, "views": 0.0, "engagement": 3305.0, "likes": 551.0, "shares": 8.0, "comments": 6.0, "saved": 2.0, "engagement_rate": 8.177656810590127, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 4, "slide": 8, "post_number": 4, "type": "post", "title": "Daily Essentials Grab", "date": "2026-02-17", "reach": 44105.0, "views": 0.0, "engagement": 3418.0, "likes": 241.0, "shares": 7.0, "comments": 0.0, "saved": 11.0, "engagement_rate": 7.749688243963269, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 5, "slide": 9, "post_number": 5, "type": "video", "title": "KOL TikTok \u2013 Nina Cucur Udang Rangup", "date": "2026-02-24", "reach": 0.0, "views": 55705.0, "engagement": 0.0, "likes": 142.0, "shares": 18.0, "comments": 3.0, "saved": 16.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 6, "slide": 9, "post_number": 6, "type": "post", "title": "Loyalty Program (Gorme Omura Knife Series)", "date": "2026-02-25", "reach": 42212.0, "views": 0.0, "engagement": 3391.0, "likes": 337.0, "shares": 13.0, "comments": 2.0, "saved": 1.0, "engagement_rate": 8.03326068416564, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 7, "slide": 9, "post_number": 7, "type": "video", "title": "Promo Video: Cahaya Ramadan", "date": "2026-02-26", "reach": 0.0, "views": 51012.0, "engagement": 0.0, "likes": 74.0, "shares": 2.0, "comments": 1.0, "saved": 1.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 8, "slide": 12, "post_number": 8, "type": "post", "title": "Weekend Shopping Spree", "date": "2026-02-03", "reach": 11692.0, "views": 0.0, "engagement": 1008.0, "likes": 1000.0, "shares": 3.0, "comments": 0.0, "saved": 5.0, "engagement_rate": 8.621279507355457, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 9, "slide": 12, "post_number": 9, "type": "post", "title": "Loyalty Program (Gorme Omura Knife Series)", "date": "2026-02-11", "reach": 12157.0, "views": 0.0, "engagement": 1002.0, "likes": 952.0, "shares": 0.0, "comments": 0.0, "saved": 5.0, "engagement_rate": 8.242165007814428, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 10, "slide": 12, "post_number": 10, "type": "post", "title": "Daily Essential Grab", "date": "2026-02-17", "reach": 12450.0, "views": 0.0, "engagement": 1025.0, "likes": 1021.0, "shares": 0.0, "comments": 1.0, "saved": 3.0, "engagement_rate": 8.23293172690763, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 11, "slide": 12, "post_number": 11, "type": "post", "title": "Loyalty Program (Gorme Omura Knife Series)", "date": "2026-02-25", "reach": 12913.0, "views": 0.0, "engagement": 1023.0, "likes": 1017.0, "shares": 0.0, "comments": 0.0, "saved": 6.0, "engagement_rate": 7.92224889646093, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 12, "slide": 12, "post_number": 12, "type": "video", "title": "Promo Cahaya Ramadan", "date": "2026-02-26", "reach": 0.0, "views": 35810.0, "engagement": 0.0, "likes": 18.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 13, "slide": 17, "post_number": 13, "type": "video", "title": "KOL TikTok \u2013 Quesha Back To School Promo", "date": "2026-02-03", "reach": 0.0, "views": 17343.0, "engagement": 0.0, "likes": 180.0, "shares": 4.0, "comments": 2.0, "saved": 24.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 14, "slide": 17, "post_number": 14, "type": "video", "title": "KOL TikTok \u2013 Nina Tomyam Seafood Recipe", "date": "2026-02-07", "reach": 0.0, "views": 19125.0, "engagement": 0.0, "likes": 461.0, "shares": 10.0, "comments": 11.0, "saved": 50.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 15, "slide": 17, "post_number": 15, "type": "video", "title": "KOL TikTok \u2013 Saida Back To School / Promosi Ahli", "date": "2026-02-10", "reach": 0.0, "views": 22053.0, "engagement": 0.0, "likes": 42.0, "shares": 1.0, "comments": 0.0, "saved": 7.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 16, "slide": 17, "post_number": 16, "type": "video", "title": "KOL TikTok \u2013 Anne Weekend Groceries Shopping", "date": "2026-02-10", "reach": 0.0, "views": 28764.0, "engagement": 0.0, "likes": 115.0, "shares": 8.0, "comments": 4.0, "saved": 12.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 17, "slide": 17, "post_number": 17, "type": "video", "title": "TikTok ASMR \u2013 Restock Pantry", "date": "2026-02-14", "reach": 0.0, "views": 23571.0, "engagement": 0.0, "likes": 60.0, "shares": 1.0, "comments": 2.0, "saved": 9.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 18, "slide": 18, "post_number": 18, "type": "video", "title": "KOL TikTok \u2013 Wana Grocery Shopping with 2 Kids", "date": "2026-02-17", "reach": 0.0, "views": 23214.0, "engagement": 0.0, "likes": 69.0, "shares": 16.0, "comments": 1.0, "saved": 14.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 19, "slide": 18, "post_number": 19, "type": "video", "title": "TikTok Video \u2013 Dua Lipa Trend", "date": "2026-02-24", "reach": 0.0, "views": 45424.0, "engagement": 0.0, "likes": 89.0, "shares": 1.0, "comments": 0.0, "saved": 15.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 20, "slide": 18, "post_number": 20, "type": "video", "title": "KOL TikTok \u2013 Nina Cucur Udang Rangup", "date": "2026-02-24", "reach": 0.0, "views": 12631.0, "engagement": 0.0, "likes": 382.0, "shares": 2.0, "comments": 7.0, "saved": 50.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 21, "slide": 18, "post_number": 21, "type": "video", "title": "TikTok Video \u2013 TFVM ada Produk Sendiri", "date": "2026-02-26", "reach": 0.0, "views": 22018.0, "engagement": 0.0, "likes": 38.0, "shares": 10.0, "comments": 2.0, "saved": 2.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 22, "slide": 25, "post_number": 22, "type": "post", "title": "Weekend Shopping Spree", "date": "2026-02-03", "reach": 49275.0, "views": 0.0, "engagement": 4306.0, "likes": 237.0, "shares": 1.0, "comments": 0.0, "saved": 21.0, "engagement_rate": 8.738711314053779, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 23, "slide": 25, "post_number": 23, "type": "post", "title": "Weekend Shopping Spree", "date": "2026-02-03", "reach": 41113.0, "views": 0.0, "engagement": 3558.0, "likes": 206.0, "shares": 9.0, "comments": 1.0, "saved": 20.0, "engagement_rate": 8.654196969328435, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 24, "slide": 25, "post_number": 24, "type": "post", "title": "Nina Tomyam Seafood Recipe", "date": "2026-02-07", "reach": 47133.0, "views": 0.0, "engagement": 4132.0, "likes": 496.0, "shares": 11.0, "comments": 1.0, "saved": 0.0, "engagement_rate": 8.76668151825685, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 25, "slide": 25, "post_number": 25, "type": "post", "title": "Loyalty Program \u2013 Gorme Omura Knife Series", "date": "2026-02-11", "reach": 44547.0, "views": 0.0, "engagement": 3408.0, "likes": 470.0, "shares": 6.0, "comments": 4.0, "saved": 4.0, "engagement_rate": 7.650346824702001, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 26, "slide": 25, "post_number": 26, "type": "video", "title": "Loyalty Program \u2013 Gorme Omura Knife Series", "date": "2026-02-11", "reach": 0.0, "views": 131496.0, "engagement": 0.0, "likes": 481.0, "shares": 21.0, "comments": 4.0, "saved": 0.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 27, "slide": 26, "post_number": 27, "type": "video", "title": "TikTok ASMR \u2013 Restock Pantry", "date": "2026-02-14", "reach": 0.0, "views": 51093.0, "engagement": 0.0, "likes": 81.0, "shares": 0.0, "comments": 1.0, "saved": 0.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 28, "slide": 26, "post_number": 28, "type": "post", "title": "Daily Essential Grab", "date": "2026-02-22", "reach": 40740.0, "views": 0.0, "engagement": 3350.0, "likes": 88.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 8.22287677957781, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 29, "slide": 26, "post_number": 29, "type": "post", "title": "Daily Essential Grab", "date": "2026-02-22", "reach": 42339.0, "views": 0.0, "engagement": 3425.0, "likes": 184.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 8.089468338883773, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 30, "slide": 26, "post_number": 30, "type": "video", "title": "Nina \u2013 Cucur Udang Rangup", "date": "2026-02-24", "reach": 0.0, "views": 50440.0, "engagement": 0.0, "likes": 33.0, "shares": 2.0, "comments": 0.0, "saved": 1.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 31, "slide": 26, "post_number": 31, "type": "video", "title": "TikTok Video \u2013 Dua Lipa Trend", "date": "2026-02-24", "reach": 0.0, "views": 50719.0, "engagement": 0.0, "likes": 8.0, "shares": 0.0, "comments": 1.0, "saved": 0.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 32, "slide": 27, "post_number": 32, "type": "post", "title": "Loyalty Program \u2013 Gorme Omura Knife Series", "date": "2026-02-25", "reach": 41788.0, "views": 0.0, "engagement": 4215.0, "likes": 268.0, "shares": 1.0, "comments": 2.0, "saved": 0.0, "engagement_rate": 10.08662774002106, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 33, "slide": 27, "post_number": 33, "type": "post", "title": "Loyalty Program \u2013 Gorme Omura Knife Series", "date": "2026-02-25", "reach": 42824.0, "views": 0.0, "engagement": 3395.0, "likes": 353.0, "shares": 3.0, "comments": 7.0, "saved": 0.0, "engagement_rate": 7.927797496730806, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 34, "slide": 27, "post_number": 34, "type": "video", "title": "TikTok Video \u2013 TFVM ada Produk Sendiri", "date": "2026-02-26", "reach": 0.0, "views": 50582.0, "engagement": 0.0, "likes": 34.0, "shares": 1.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 35, "slide": 27, "post_number": 35, "type": "video", "title": "Promo Video: Cahaya Ramadan", "date": "2026-02-26", "reach": 0.0, "views": 51285.0, "engagement": 0.0, "likes": 23.0, "shares": 0.0, "comments": 1.0, "saved": 1.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 36, "slide": 27, "post_number": 36, "type": "video", "title": "Promo Video: Cahaya Ramadan", "date": "2026-02-26", "reach": 0.0, "views": 50209.0, "engagement": 0.0, "likes": 30.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0.0, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 37, "slide": 34, "post_number": 37, "type": "video", "title": "Quesha: Back to School", "date": "2026-02-03", "reach": 0.0, "views": 10307.0, "engagement": 0.0, "likes": 225.0, "shares": 9.0, "comments": 41.0, "saved": 7.0, "engagement_rate": 0.0, "link": "https://www.instagram.com/p/DFmlwmaTHdI", "has_link": true, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 38, "slide": 34, "post_number": 38, "type": "video", "title": "Nina: Tomyam Seafood Recipe", "date": "2026-02-07", "reach": 0.0, "views": 35536.0, "engagement": 0.0, "likes": 605.0, "shares": 658.0, "comments": 16.0, "saved": 252.0, "engagement_rate": 0.0, "link": "https://www.instagram.com/p/DFws0PizSyc", "has_link": true, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 39, "slide": 35, "post_number": 39, "type": "video", "title": "Saida: Back to School/ Promosi Ahli", "date": "2026-02-10", "reach": 0.0, "views": 3253.0, "engagement": 0.0, "likes": 326.0, "shares": 22.0, "comments": 9.0, "saved": 4.0, "engagement_rate": 0.0, "link": "https://www.instagram.com/reel/DF4rOJ5pd-b", "has_link": true, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 40, "slide": 35, "post_number": 40, "type": "video", "title": "Wana: Grocery Shopping with 2 Kids", "date": "2026-02-15", "reach": 0.0, "views": 2186.0, "engagement": 0.0, "likes": 127.0, "shares": 0.0, "comments": 64.0, "saved": 1.0, "engagement_rate": 0.0, "link": "https://www.instagram.com/reel/DGFt7mBy5Rf", "has_link": true, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 41, "slide": 35, "post_number": 41, "type": "video", "title": "Nina: Cucur Udang Rangup", "date": "2026-02-24", "reach": 0.0, "views": 42767.0, "engagement": 0.0, "likes": 694.0, "shares": 299.0, "comments": 18.0, "saved": 791.0, "engagement_rate": 0.0, "link": "https://www.instagram.com/p/DGdSCbmTSKZ", "has_link": true, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "low_performing", "is_video": true, "has_high_engagement": false}, {"post_id": 42, "slide": 79, "post_number": 42, "type": "post", "title": "Selamat Hari Valentine", "date": "2026-02-05", "reach": 93349.0, "views": 0.0, "engagement": 4147.0, "likes": 538.0, "shares": 16.0, "comments": 5.0, "saved": 3.0, "engagement_rate": 4.4424685856302695, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "medium_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 43, "slide": 79, "post_number": 43, "type": "post", "title": "Cahaya Ramadan", "date": "2026-02-24", "reach": 151263.0, "views": 0.0, "engagement": 33779.0, "likes": 965.0, "shares": 232.0, "comments": 11.0, "saved": 29.0, "engagement_rate": 22.331303755710252, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "high_performing", "is_video": false, "has_high_engagement": true}, {"post_id": 44, "slide": 79, "post_number": 44, "type": "post", "title": "Tawaran Istimewa 4 Hari", "date": "2026-02-26", "reach": 138367.0, "views": 0.0, "engagement": 10707.0, "likes": 541.0, "shares": 28.0, "comments": 13.0, "saved": 4.0, "engagement_rate": 7.73811674749037, "link": "", "has_link": false, "source_file": "TFVM_REPORT (FEBRUARY 2025).pptx", "performance_category": "high_performing", "is_video": false, "has_high_engagement": true}, {"post_id": 45, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0, "link": "", "has_link": false, "source_file": "", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 46, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0, "link": "", "has_link": false, "source_file": "", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 47, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0, "link": "", "has_link": false, "source_file": "\ud83d\udcca SUMMARY STATISTICS", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 48, "slide": 44, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0, "link": "", "has_link": false, "source_file": "Total Posts", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 49, "slide": 25, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0, "link": "", "has_link": false, "source_file": "Video Posts", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 50, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0, "link": "", "has_link": false, "source_file": "Average Reach", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 51, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0, "link": "", "has_link": false, "source_file": "Average Engagement", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 52, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0, "link": "", "has_link": false, "source_file": "Total Engagement", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}, {"post_id": 53, "slide": 0, "post_number": 0, "type": "post", "title": "", "date": "", "reach": 0.0, "views": 0.0, "engagement": 0.0, "likes": 0.0, "shares": 0.0, "comments": 0.0, "saved": 0.0, "engagement_rate": 0, "link": "", "has_link": false, "source_file": "Post Types", "performance_category": "low_performing", "is_video": false, "has_high_engagement": false}], "platform_analysis": {"Instagram": {"avg_engagement": 0.0, "total_engagement": 0.0, "post_count": 0}, "Unknown": {"avg_engagement": 5072.0, "total_engagement": 96369.0, "post_count": 19}}, "_metadata": {"generated_at": "2026-01-16T17:38:53.319991", "data_version": "2.0", "posts_count": 53, "time_period": {"start": "2026-02-03", "end": "2026-02-26", "days": 24}, "dashboard_type": "social_media", "status": "success", "unique_slides": 16, "source_files": ["TFVM_REPORT (FEBRUARY 2025).pptx", NaN, "\ud83d\udcca SUMMARY STATISTICS", "Total Posts", "Video Posts", "Average Reach", "Average Engagement", "Total Engagement", "Post Types"]}};
        
        // Store post data globally for filtering
        window.postDetailsData = analyticsData.post_details || [];
        
        // Dark Mode
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        let darkMode = localStorage.getItem('socialDashboardDarkMode') === 'true';
        
        function updateDarkMode() {
            document.body.classList.toggle('dark-mode', darkMode);
            if (darkMode) {
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
            } else {
                darkModeToggle.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
            }
            localStorage.setItem('socialDashboardDarkMode', darkMode);
        }
        
        darkModeToggle.addEventListener('click', () => {
            darkMode = !darkMode;
            updateDarkMode();
        });
        
        // Initialize dark mode
        updateDarkMode();
        
        // Navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Add active class to clicked nav item
            event.target.closest('.nav-item').classList.add('active');
            
            // Close mobile sidebar if open
            if (window.innerWidth <= 768) {
                document.getElementById('sidebar').style.display = 'none';
            }
            
            // Initialize charts for the page
            setTimeout(() => initializePageCharts(pageId), 100);
        }
        
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.style.display = sidebar.style.display === 'none' ? 'block' : 'none';
        }
        
        // Initialize page-specific charts
        function initializePageCharts(pageId) {
            switch(pageId) {
                case 'overview':
                    createOverviewCharts();
                    break;
                case 'performance':
                    createPerformanceCharts();
                    break;
                case 'trends':
                    createTrendCharts();
                    break;
                case 'platforms':
                    createPlatformCharts();
                    break;
                case 'posts':
                    setupPostSearchFilter();
                    break;
            }
        }
        
        // Overview Charts
        function createOverviewCharts() {
            const overview = analyticsData.overview_stats;
            
            // Chart 1: Content Type Distribution
            const contentData = [{
                values: [overview.video_posts || 0, overview.image_posts || 0],
                labels: ['Video Posts', 'Image Posts'],
                type: 'pie',
                hole: 0.4,
                marker: {
                    colors: ['#F44336', '#2196F3']
                },
                textinfo: 'percent+label',
                hoverinfo: 'label+percent+value'
            }];
            
            Plotly.newPlot('overview-chart1', contentData, {
                height: 320,
                margin: {t: 20, b: 20, l: 20, r: 20},
                showlegend: true,
                paper_bgcolor: 'transparent',
                plot_bgcolor: 'transparent',
                legend: {
                    orientation: 'h',
                    y: -0.1
                }
            }, {displayModeBar: false});
            
            // Chart 2: Top 10 Posts by Engagement
            const postDetails = analyticsData.post_details || [];
            const topPosts = [...postDetails]
                .sort((a, b) => b.engagement - a.engagement)
                .slice(0, 10);
            
            const postTitles = topPosts.map(p => {
                const title = p.title.length > 20 ? p.title.substring(0, 17) + '...' : p.title;
                return title + (p.is_video ? ' üé•' : ' üì∏');
            });
            
            const postEngagements = topPosts.map(p => p.engagement);
            
            const barColors = topPosts.map(p => p.is_video ? '#F44336' : '#2196F3');
            
            const data2 = [{
                y: postTitles,
                x: postEngagements,
                type: 'bar',
                orientation: 'h',
                marker: {
                    color: barColors,
                    line: {
                        color: '#333',
                        width: 1
                    }
                },
                text: postEngagements.map(e => e.toLocaleString()),
                textposition: 'auto'
            }];
            
            Plotly.newPlot('overview-chart2', data2, {
                height: 320,
                margin: {l: 200, r: 30, t: 20, b: 50},
                xaxis: {title: 'Engagement'},
                paper_bgcolor: 'transparent',
                plot_bgcolor: 'transparent'
            }, {displayModeBar: false});
        }
        
        // Performance Charts
        function createPerformanceCharts() {
            const performance = analyticsData.performance_analysis;
            
            // Chart 1: Video vs Post Performance
            const avgVideo = performance.avg_engagement_by_type?.video || 0;
            const avgPost = performance.avg_engagement_by_type?.post || 0;
            
            const comparisonData = [{
                x: ['Video', 'Post'],
                y: [avgVideo, avgPost],
                type: 'bar',
                marker: {
                    color: ['#F44336', '#2196F3']
                },
                text: [avgVideo.toLocaleString(), avgPost.toLocaleString()],
                textposition: 'auto'
            }];
            
            Plotly.newPlot('performance-chart1', comparisonData, {
                height: 320,
                margin: {t: 20, b: 50, l: 50, r: 30},
                xaxis: {title: 'Content Type'},
                yaxis: {title: 'Average Engagement'},
                paper_bgcolor: 'transparent',
                plot_bgcolor: 'transparent'
            }, {displayModeBar: false});
            
            // Chart 2: Engagement Distribution
            const postDetails = analyticsData.post_details || [];
            const engagements = postDetails.map(p => p.engagement).filter(e => e > 0);
            
            if (engagements.length > 0) {
                const histogramData = [{
                    x: engagements,
                    type: 'histogram',
                    marker: {
                        color: '#4CAF50'
                    },
                    nbinsx: 20
                }];
                
                Plotly.newPlot('performance-chart2', histogramData, {
                    height: 320,
                    margin: {t: 20, b: 50, l: 50, r: 30},
                    xaxis: {title: 'Engagement'},
                    yaxis: {title: 'Number of Posts'},
                    paper_bgcolor: 'transparent',
                    plot_bgcolor: 'transparent'
                }, {displayModeBar: false});
            }
        }
        
        // Trend Charts
        function createTrendCharts() {
            const trends = analyticsData.engagement_trends?.daily || {dates: [], engagements: []};
            
            if (trends.dates.length > 0) {
                const trace1 = {
                    x: trends.dates,
                    y: trends.engagements,
                    mode: 'lines+markers',
                    name: 'Daily Engagement',
                    line: {color: '#2196F3', width: 2},
                    marker: {size: 6, color: '#2196F3'}
                };
                
                let movingAvgTrace = null;
                if (trends.engagements.length >= 3) {
                    const movingAvg = calculateMovingAverage(trends.engagements, 3);
                    movingAvgTrace = {
                        x: trends.dates.slice(2),
                        y: movingAvg,
                        mode: 'lines',
                        name: '3-Day Avg',
                        line: {color: '#4CAF50', width: 4, dash: 'dot'},
                        hoverinfo: 'none'
                    };
                }
                
                const data = movingAvgTrace ? [trace1, movingAvgTrace] : [trace1];
                
                Plotly.newPlot('trends-chart1', data, {
                    height: 320,
                    margin: {t: 20, b: 50, l: 50, r: 30},
                    xaxis: {
                        title: 'Date',
                        tickangle: 45
                    },
                    yaxis: {title: 'Engagement'},
                    paper_bgcolor: 'transparent',
                    plot_bgcolor: 'transparent',
                    hovermode: 'closest',
                    showlegend: true,
                    legend: {
                        orientation: 'h',
                        y: -0.2
                    }
                }, {displayModeBar: false});
            }
        }
        
        function calculateMovingAverage(data, windowSize) {
            const movingAvg = [];
            for (let i = 0; i <= data.length - windowSize; i++) {
                const sum = data.slice(i, i + windowSize).reduce((a, b) => a + b, 0);
                movingAvg.push(sum / windowSize);
            }
            return movingAvg;
        }
        
        // Platform Charts
        function createPlatformCharts() {
            const platforms = analyticsData.platform_analysis || {};
            
            const platformNames = [];
            const platformEngagements = [];
            const platformColors = [];
            
            for (const [platform, data] of Object.entries(platforms)) {
                if (platform !== 'Unknown' && platform !== 'Other' && data.avg_engagement > 0) {
                    platformNames.push(platform);
                    platformEngagements.push(data.total_engagement || 0);
                    
                    const colorMap = {
                        'Instagram': '#E1306C',
                        'Facebook': '#4267B2',
                        'TikTok': '#000000',
                        'YouTube': '#FF0000',
                        'Twitter': '#1DA1F2'
                    };
                    platformColors.push(colorMap[platform] || '#666');
                }
            }
            
            if (platformNames.length > 0) {
                const platformData = [{
                    values: platformEngagements,
                    labels: platformNames,
                    type: 'pie',
                    hole: 0.3,
                    marker: {
                        colors: platformColors
                    },
                    textinfo: 'percent+label',
                    hoverinfo: 'label+percent+value'
                }];
                
                Plotly.newPlot('platforms-chart1', platformData, {
                    height: 320,
                    margin: {t: 20, b: 20, l: 20, r: 20},
                    showlegend: true,
                    paper_bgcolor: 'transparent',
                    plot_bgcolor: 'transparent'
                }, {displayModeBar: false});
            }
        }
        
        // Post Search and Filter
        function setupPostSearchFilter() {
            const searchInput = document.getElementById('post-search');
            const typeSelect = document.getElementById('filter-type');
            const performanceSelect = document.getElementById('filter-performance');
            const sortSelect = document.getElementById('sort-by');
            
            searchInput.addEventListener('input', filterPosts);
            typeSelect.addEventListener('change', filterPosts);
            performanceSelect.addEventListener('change', filterPosts);
            sortSelect.addEventListener('change', filterPosts);
            
            filterPosts();
        }
        
        function setFilter(filterType) {
            if (filterType === 'video' || filterType === 'post') {
                document.getElementById('filter-type').value = filterType;
            } else if (['high', 'medium', 'low'].includes(filterType)) {
                document.getElementById('filter-performance').value = filterType;
            }
            filterPosts();
        }
        
        function clearFilters() {
            document.getElementById('post-search').value = '';
            document.getElementById('filter-type').value = 'all';
            document.getElementById('filter-performance').value = 'all';
            document.getElementById('sort-by').value = 'engagement_desc';
            filterPosts();
        }
        
        function filterPosts() {
            const searchTerm = document.getElementById('post-search').value.toLowerCase();
            const typeFilter = document.getElementById('filter-type').value;
            const performanceFilter = document.getElementById('filter-performance').value;
            const sortBy = document.getElementById('sort-by').value;
            const postDetails = window.postDetailsData || [];
            
            const filteredPosts = postDetails.filter(post => {
                // Search filter
                const matchesSearch = post.title.toLowerCase().includes(searchTerm) || 
                                     post.type.toLowerCase().includes(searchTerm);
                
                // Type filter
                let matchesType = true;
                if (typeFilter === 'video') {
                    matchesType = post.is_video;
                } else if (typeFilter === 'post') {
                    matchesType = !post.is_video;
                }
                
                // Performance filter
                let matchesPerformance = true;
                if (performanceFilter === 'high') {
                    matchesPerformance = post.performance_category === 'high_performing';
                } else if (performanceFilter === 'medium') {
                    matchesPerformance = post.performance_category === 'medium_performing';
                } else if (performanceFilter === 'low') {
                    matchesPerformance = post.performance_category === 'low_performing';
                }
                
                return matchesSearch && matchesType && matchesPerformance;
            });
            
            // Sort the filtered posts
            let sortedPosts = [...filteredPosts];
            
            switch(sortBy) {
                case 'engagement_desc':
                    sortedPosts.sort((a, b) => b.engagement - a.engagement);
                    break;
                case 'engagement_asc':
                    sortedPosts.sort((a, b) => a.engagement - b.engagement);
                    break;
                case 'date_desc':
                    sortedPosts.sort((a, b) => new Date(b.date) - new Date(a.date));
                    break;
                case 'date_asc':
                    sortedPosts.sort((a, b) => new Date(a.date) - new Date(b.date));
                    break;
                case 'title':
                    sortedPosts.sort((a, b) => a.title.localeCompare(b.title));
                    break;
            }
            
            populateFilteredPostTable(sortedPosts);
            updatePostCount(sortedPosts.length);
        }
        
        function populateFilteredPostTable(filteredPosts) {
            const tableBody = document.getElementById('post-table-body');
            tableBody.innerHTML = '';
            
            filteredPosts.forEach(post => {
                // Determine performance badge
                let performanceClass, performanceText;
                if (post.performance_category === 'high_performing') {
                    performanceClass = 'badge-success';
                    performanceText = 'High';
                } else if (post.performance_category === 'medium_performing') {
                    performanceClass = 'badge-warning';
                    performanceText = 'Medium';
                } else {
                    performanceClass = 'badge-danger';
                    performanceText = 'Low';
                }
                
                // Format engagement number
                const engagementStr = post.engagement > 0 ? post.engagement.toLocaleString() : '0';
                
                // Create link display
                let linkDisplay = '';
                if (post.has_link) {
                    let platform = 'Link';
                    if (post.link.includes('instagram.com')) platform = 'Instagram';
                    else if (post.link.includes('tiktok.com')) platform = 'TikTok';
                    else if (post.link.includes('facebook.com')) platform = 'Facebook';
                    else if (post.link.includes('youtube.com') || post.link.includes('youtu.be')) platform = 'YouTube';
                    else if (post.link.includes('twitter.com') || post.link.includes('x.com')) platform = 'Twitter';
                    
                    linkDisplay = `<br><small style="color: #2196F3;"><i class="fab fa-${platform.toLowerCase()}"></i> ${platform}</small>`;
                }
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        ${post.title.length > 50 ? post.title.substring(0, 47) + "..." : post.title}
                        ${linkDisplay}
                    </td>
                    <td>
                        <span class="badge ${performanceClass}">
                            ${performanceText}
                        </span>
                    </td>
                    <td>${post.type.charAt(0).toUpperCase() + post.type.slice(1)}</td>
                    <td><strong>${engagementStr}</strong></td>
                    <td>
                        ${post.reach > 0 ? post.reach.toLocaleString() : "N/A"}
                        <br><small style="color: #666;">Reach</small>
                    </td>
                    <td>
                        ${post.views > 0 ? post.views.toLocaleString() : "N/A"}
                        <br><small style="color: #666;">Views</small>
                    </td>
                    <td>${post.date}</td>
                `;
                
                tableBody.appendChild(row);
            });
        }
        
        function updatePostCount(count) {
            const counter = document.getElementById('post-count');
            if (counter) {
                const total = window.postDetailsData.length;
                counter.textContent = `Showing ${count} of ${total} posts`;
            }
        }
        
        // Initialize the first page on load
        window.onload = function() {
            showPage('overview');
            setTimeout(() => {
                initializePageCharts('overview');
            }, 200);
        };
    </script>
</body>
</html>
